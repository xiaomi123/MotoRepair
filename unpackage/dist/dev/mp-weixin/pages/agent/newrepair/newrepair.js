(global["webpackJsonp"] = global["webpackJsonp"] || []).push([["pages/agent/newrepair/newrepair"],{

/***/ 155:
/*!***********************************************************************************************!*\
  !*** E:/HBuilderProjects/MotorOrder/main.js?{"page":"pages%2Fagent%2Fnewrepair%2Fnewrepair"} ***!
  \***********************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/* WEBPACK VAR INJECTION */(function(createPage) {__webpack_require__(/*! uni-pages */ 4);
var _vue = _interopRequireDefault(__webpack_require__(/*! vue */ 2));
var _newrepair = _interopRequireDefault(__webpack_require__(/*! ./pages/agent/newrepair/newrepair.vue */ 156));function _interopRequireDefault(obj) {return obj && obj.__esModule ? obj : { default: obj };}
createPage(_newrepair.default);
/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! ./node_modules/@dcloudio/uni-mp-weixin/dist/index.js */ 1)["createPage"]))

/***/ }),

/***/ 156:
/*!**************************************************************************!*\
  !*** E:/HBuilderProjects/MotorOrder/pages/agent/newrepair/newrepair.vue ***!
  \**************************************************************************/
/*! no static exports found */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _newrepair_vue_vue_type_template_id_0ac20a36___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./newrepair.vue?vue&type=template&id=0ac20a36& */ 157);
/* harmony import */ var _newrepair_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./newrepair.vue?vue&type=script&lang=js& */ 159);
/* harmony reexport (unknown) */ for(var __WEBPACK_IMPORT_KEY__ in _newrepair_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_1__) if(__WEBPACK_IMPORT_KEY__ !== 'default') (function(key) { __webpack_require__.d(__webpack_exports__, key, function() { return _newrepair_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_1__[key]; }) }(__WEBPACK_IMPORT_KEY__));
/* harmony import */ var _D_360_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_runtime_componentNormalizer_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js */ 10);

var renderjs




/* normalize component */

var component = Object(_D_360_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_runtime_componentNormalizer_js__WEBPACK_IMPORTED_MODULE_2__["default"])(
  _newrepair_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_1__["default"],
  _newrepair_vue_vue_type_template_id_0ac20a36___WEBPACK_IMPORTED_MODULE_0__["render"],
  _newrepair_vue_vue_type_template_id_0ac20a36___WEBPACK_IMPORTED_MODULE_0__["staticRenderFns"],
  false,
  null,
  null,
  null,
  false,
  _newrepair_vue_vue_type_template_id_0ac20a36___WEBPACK_IMPORTED_MODULE_0__["components"],
  renderjs
)

component.options.__file = "E:/HBuilderProjects/MotorOrder/pages/agent/newrepair/newrepair.vue"
/* harmony default export */ __webpack_exports__["default"] = (component.exports);

/***/ }),

/***/ 157:
/*!*********************************************************************************************************!*\
  !*** E:/HBuilderProjects/MotorOrder/pages/agent/newrepair/newrepair.vue?vue&type=template&id=0ac20a36& ***!
  \*********************************************************************************************************/
/*! exports provided: render, staticRenderFns, recyclableRender, components */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _D_360_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_D_360_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_16_0_D_360_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_template_js_D_360_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_uni_app_loader_page_meta_js_D_360_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_index_js_vue_loader_options_D_360_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_newrepair_vue_vue_type_template_id_0ac20a36___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! -!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--16-0!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib??vue-loader-options!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./newrepair.vue?vue&type=template&id=0ac20a36& */ 158);
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "render", function() { return _D_360_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_D_360_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_16_0_D_360_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_template_js_D_360_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_uni_app_loader_page_meta_js_D_360_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_index_js_vue_loader_options_D_360_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_newrepair_vue_vue_type_template_id_0ac20a36___WEBPACK_IMPORTED_MODULE_0__["render"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "staticRenderFns", function() { return _D_360_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_D_360_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_16_0_D_360_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_template_js_D_360_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_uni_app_loader_page_meta_js_D_360_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_index_js_vue_loader_options_D_360_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_newrepair_vue_vue_type_template_id_0ac20a36___WEBPACK_IMPORTED_MODULE_0__["staticRenderFns"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "recyclableRender", function() { return _D_360_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_D_360_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_16_0_D_360_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_template_js_D_360_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_uni_app_loader_page_meta_js_D_360_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_index_js_vue_loader_options_D_360_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_newrepair_vue_vue_type_template_id_0ac20a36___WEBPACK_IMPORTED_MODULE_0__["recyclableRender"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "components", function() { return _D_360_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_D_360_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_16_0_D_360_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_template_js_D_360_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_uni_app_loader_page_meta_js_D_360_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_index_js_vue_loader_options_D_360_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_newrepair_vue_vue_type_template_id_0ac20a36___WEBPACK_IMPORTED_MODULE_0__["components"]; });



/***/ }),

/***/ 158:
/*!*********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--16-0!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib??vue-loader-options!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!E:/HBuilderProjects/MotorOrder/pages/agent/newrepair/newrepair.vue?vue&type=template&id=0ac20a36& ***!
  \*********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/*! exports provided: render, staticRenderFns, recyclableRender, components */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "render", function() { return render; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "staticRenderFns", function() { return staticRenderFns; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "recyclableRender", function() { return recyclableRender; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "components", function() { return components; });
var components = {
  uniSegmentedControl: function() {
    return __webpack_require__.e(/*! import() | components/uni-segmented-control/uni-segmented-control */ "components/uni-segmented-control/uni-segmented-control").then(__webpack_require__.bind(null, /*! @/components/uni-segmented-control/uni-segmented-control.vue */ 542))
  },
  uniIcons: function() {
    return Promise.all(/*! import() | components/uni-icons/uni-icons */[__webpack_require__.e("common/vendor"), __webpack_require__.e("components/uni-icons/uni-icons")]).then(__webpack_require__.bind(null, /*! @/components/uni-icons/uni-icons.vue */ 442))
  }
}
var render = function() {
  var _vm = this
  var _h = _vm.$createElement
  var _c = _vm._self._c || _h
  if (!_vm._isMounted) {
    _vm.e0 = function($event) {
      _vm.isEdit = false
    }
  }
}
var recyclableRender = false
var staticRenderFns = []
render._withStripped = true



/***/ }),

/***/ 159:
/*!***************************************************************************************************!*\
  !*** E:/HBuilderProjects/MotorOrder/pages/agent/newrepair/newrepair.vue?vue&type=script&lang=js& ***!
  \***************************************************************************************************/
/*! no static exports found */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _D_360_HBuilderX_plugins_uniapp_cli_node_modules_babel_loader_lib_index_js_D_360_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_12_1_D_360_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_script_js_D_360_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_index_js_vue_loader_options_D_360_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_newrepair_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! -!./node_modules/babel-loader/lib!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--12-1!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib??vue-loader-options!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./newrepair.vue?vue&type=script&lang=js& */ 160);
/* harmony import */ var _D_360_HBuilderX_plugins_uniapp_cli_node_modules_babel_loader_lib_index_js_D_360_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_12_1_D_360_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_script_js_D_360_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_index_js_vue_loader_options_D_360_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_newrepair_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_D_360_HBuilderX_plugins_uniapp_cli_node_modules_babel_loader_lib_index_js_D_360_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_12_1_D_360_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_script_js_D_360_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_index_js_vue_loader_options_D_360_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_newrepair_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_0__);
/* harmony reexport (unknown) */ for(var __WEBPACK_IMPORT_KEY__ in _D_360_HBuilderX_plugins_uniapp_cli_node_modules_babel_loader_lib_index_js_D_360_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_12_1_D_360_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_script_js_D_360_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_index_js_vue_loader_options_D_360_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_newrepair_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_0__) if(__WEBPACK_IMPORT_KEY__ !== 'default') (function(key) { __webpack_require__.d(__webpack_exports__, key, function() { return _D_360_HBuilderX_plugins_uniapp_cli_node_modules_babel_loader_lib_index_js_D_360_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_12_1_D_360_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_script_js_D_360_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_index_js_vue_loader_options_D_360_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_newrepair_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_0__[key]; }) }(__WEBPACK_IMPORT_KEY__));
 /* harmony default export */ __webpack_exports__["default"] = (_D_360_HBuilderX_plugins_uniapp_cli_node_modules_babel_loader_lib_index_js_D_360_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_12_1_D_360_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_script_js_D_360_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_index_js_vue_loader_options_D_360_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_newrepair_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_0___default.a); 

/***/ }),

/***/ 160:
/*!**********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/babel-loader/lib!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--12-1!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib??vue-loader-options!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!E:/HBuilderProjects/MotorOrder/pages/agent/newrepair/newrepair.vue?vue&type=script&lang=js& ***!
  \**********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/* WEBPACK VAR INJECTION */(function(uni) {Object.defineProperty(exports, "__esModule", { value: true });exports.default = void 0;var uniIcons = function uniIcons() {Promise.all(/*! require.ensure | components/uni-icons/uni-icons */[__webpack_require__.e("common/vendor"), __webpack_require__.e("components/uni-icons/uni-icons")]).then((function () {return resolve(__webpack_require__(/*! @/components/uni-icons/uni-icons.vue */ 442));}).bind(null, __webpack_require__)).catch(__webpack_require__.oe);};var _default =















































































































{
  components: { uniIcons: uniIcons },
  data: function data() {
    return {
      userInfo: {}, //用户信息
      repaireList: [], //修理厂用户
      tabItems: ['待审核', '已审核', '已拒绝'],
      badge: [0, 0, 0],
      tabIndex: 0,
      marginTop: '',
      p: 1,
      pageSize: 10,
      pageCount: '',
      status: 'more',
      agentInfo: {},
      isEdit: false, //信息完善弹层
      passIndex: -1, //审核index
      models: [{ type: '国产车' }, { type: '合资车' }, { type: '高端车' }],
      timer: null,
      keyTxt: '' };

  },
  onLoad: function onLoad(option) {
    //读取存储数据
    var this_ = this;
    uni.getStorage({
      key: 'userInfo',
      success: function success(res) {
        this_.userInfo = res.data[0];
        this_.getNewRepair();
        this_.getRepairQty(); //获取tab不同状态数量
        //每隔5秒刷新
        this_.timer = setInterval(function () {
          this_.getRepairQty(); //获取数字
        }, 5000);
      } });

  },
  onUnload: function onUnload() {
    var this_ = this;
    if (this_.timer) {
      clearInterval(this_.timer);
      this_.timer = null;
    }
  },
  mounted: function mounted() {
    this.marginTop = this.$refs.tabitem.$el.getBoundingClientRect().top;
  },
  //上拉加载
  onReachBottom: function onReachBottom() {
    if (this.p < this.pageCount) {
      this.p++;
      this.status = 'loading';
      this.getNewRepair();
    } else {
      this.status = 'noMore';
    }
  },
  methods: {
    tel: function tel(phoneNum) {
      uni.makePhoneCall({
        phoneNumber: phoneNum //仅为示例
      });
    },
    //tab切换
    onClickTab: function onClickTab(e) {
      var this_ = this;
      if (this_.tabIndex !== e.currentIndex) {
        this.keyTxt = '';
        this_.p = 1;
        this_.tabIndex = e.currentIndex;
        this_.getNewRepair();
      }
    },
    //获取新增修理厂待审核数量
    getNewRepair: function getNewRepair() {
      uni.showLoading();
      var this_ = this;
      var state = 1;
      if (this_.tabIndex == 1) {
        state = '-1,0';
      } else if (this_.tabIndex == 2) {
        state = '2';
      }
      //this_.repaireList = [];
      this_.$http.httpTokenRequest({
        url: this_.$api.GetUser + '?name=' + this_.keyTxt + '&tel=&ma001=' + this_.userInfo.c_ma001 + '&m_id=' + this_.userInfo.c_m_id + '&state=' + state + '&pageindex=' + this_.p + '&pagesize=' + this_.pageSize,
        method: 'GET',
        data: {} }).
      then(function (res) {
        //请求成功
        if (this_.p > 1) {
          this_.repaireList = this_.repaireList.concat(res.data.rows);
        } else {
          this_.repaireList = res.data.rows;
        }
        if (0 <= res.data.total < this_.pageSize) {
          this_.status = 'noMore';
        } else {
          this_.status = 'more';
        }
        this_.papeTotal(res.data.total);uni.hideLoading();
      }, function (error) {
        console.log(error);
      });
    },
    //获取总页数
    papeTotal: function papeTotal(rowCount) {
      var this_ = this;
      if (rowCount != null && rowCount != "") {
        if (rowCount % this_.pageSize == 0) {
          this_.pageCount = parseInt(rowCount / this_.pageSize);
        } else {
          this_.pageCount = parseInt(rowCount / this_.pageSize) + 1;
        }
      } else {
        return 0;
      }
    },
    //启用顶用
    switchChange: function switchChange(e, list, index) {
      var this_ = this;
      this_.agentInfo = list;
      var value = e.target.value;
      if (value) {
        this_.passIndex = index;
        this_.isEdit = true;
      } else {
        this_.passOption("-1", "switch"); //停用
      }
    },
    //去审核
    toPass: function toPass(list, index) {
      console.log(list);
      var this_ = this;
      this_.isEdit = true;
      this_.agentInfo = list;
      this_.passIndex = index;
    },
    //启用---取消
    cancelOption: function cancelOption() {
      var this_ = this;
      this_.isEdit = false;
    },
    //启用---确定
    okOption: function okOption() {
      var this_ = this;
      this_.isEdit = false;
      this_.passOption("0", "switch"); //启用
    },
    //公共修改修理厂账号状态
    passOption: function passOption(state, type) {
      var this_ = this;
      //"取消"关闭
      if (type == 'cancel') {
        this_.isEdit = false;
      } else {
        if (this_.$check.isEmpty(this_.agentInfo.c_nickname)) {
          uni.showToast({
            icon: 'none',
            title: "修理厂名称不能为空",
            duration: 1500 });

          return false;
        } else if (this_.$check.isEmpty(this_.agentInfo.c_tel)) {
          uni.showToast({
            icon: 'none',
            title: "联系电话不能为空",
            duration: 1500 });

          return false;
        } else if (!this_.$check.ckTel(this_.agentInfo.c_tel)) {
          uni.showToast({
            icon: 'none',
            title: "手机号格式不正确",
            duration: 1500 });

          return false;
        } else if (this_.$check.isEmpty(this_.agentInfo.c_prov)) {
          uni.showToast({
            icon: 'none',
            title: "省份不能为空",
            duration: 1500 });

          return false;
        } else if (this_.$check.isEmpty(this_.agentInfo.c_city)) {
          uni.showToast({
            icon: 'none',
            title: "区域不能为空",
            duration: 1500 });

          return false;
        } else if (this_.$check.isEmpty(this_.agentInfo.c_address)) {
          uni.showToast({
            icon: 'none',
            title: "详细地址不能为空",
            duration: 1500 });

          return false;
        }
        this_.$http.httpTokenRequest({
          url: this_.$api.UserState + '?c_id=' + this_.agentInfo.c_id,
          method: 'POST',
          data: { c_nickname: this_.agentInfo.c_nickname, c_prov: this_.agentInfo.c_prov, c_city: this_.agentInfo.c_city, c_address: this_.agentInfo.c_address, c_tel: this_.agentInfo.c_tel, c_tel1: this_.agentInfo.c_tel1, c_state: state, c_main: this_.agentInfo.c_main } }).
        then(function (res) {
          this_.isEdit = false;
          //请求成功
          if (res.data.State) {
            if (type == "applay" && state == "0") {
              //清除行--点击弹层”通过“
              uni.showToast({
                icon: 'none',
                title: '已通过',
                duration: 1500 });

              this_.repaireList.splice(this_.passIndex, 1);
            } else if (type == "switch" && state == "0") {
              uni.showToast({
                icon: 'none',
                title: '已启用',
                duration: 1500 });

            } else if (type == "switch" && state == "-1") {
              uni.showToast({
                icon: 'none',
                title: '已停用',
                duration: 1500 });

            }
            this_.getNewRepair();
          }
        }, function (error) {
          console.log(error);
        });
      }
    },
    //修理厂选择主修车型
    radioChange: function radioChange(e) {
      this.agentInfo.c_main = e.detail.value;
    },

    //获取tab状态数量
    getRepairQty: function getRepairQty() {
      var this_ = this;
      this_.$http.httpTokenRequest({
        url: this_.$api.UserQty + '?c_ma001=' + this_.userInfo.c_ma001 + '&m_id=' + this_.userInfo.c_m_id,
        method: 'GET',
        data: {} }).
      then(function (res) {
        for (var i = 0; i < res.data.length; i++) {
          if (res.data[i].c_state == 1) {
            this_.badge[0] = res.data[i].qty;
          } else if (res.data[i].c_state == 0) {
            this_.badge[1] = res.data[i].qty;
          } else if (res.data[i].c_state == 2) {
            this_.badge[2] = res.data[i].qty;
          }
        }
        this_.$set(this_.badge, true);

      }, function (error) {
        console.log(error);
      });
    },
    //查询
    toSearch: function toSearch() {
      var this_ = this;
      this_.p = 1;
      this_.getNewRepair();
    } } };exports.default = _default;
/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! ./node_modules/@dcloudio/uni-mp-weixin/dist/index.js */ 1)["default"]))

/***/ })

},[[155,"common/runtime","common/vendor"]]]);
//# sourceMappingURL=../../../../.sourcemap/mp-weixin/pages/agent/newrepair/newrepair.js.map