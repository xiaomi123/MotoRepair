{"version":3,"sources":["uni-app:///main.js","webpack:///E:/HBuilderProjects/MotorOrder/pages/agent/stock/stock.vue?1d34","webpack:///E:/HBuilderProjects/MotorOrder/pages/agent/stock/stock.vue?c140","webpack:///E:/HBuilderProjects/MotorOrder/pages/agent/stock/stock.vue?600e","webpack:///E:/HBuilderProjects/MotorOrder/pages/agent/stock/stock.vue?999a","uni-app:///pages/agent/stock/stock.vue","webpack:///E:/HBuilderProjects/MotorOrder/pages/agent/stock/stock.vue?e662","webpack:///E:/HBuilderProjects/MotorOrder/pages/agent/stock/stock.vue?d7df"],"names":["createPage","Page"],"mappings":";;;;;;;;;;kDAAA;AACA;AACA,mG;AACAA,UAAU,CAACC,cAAD,CAAV,C;;;;;;;;;;;;;ACHA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAkH;AAClH;AACyD;AACL;AACa;;;AAGjE;AACiL;AACjL,gBAAgB,mLAAU;AAC1B,EAAE,2EAAM;AACR,EAAE,gFAAM;AACR,EAAE,yFAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,oFAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACvBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;ACRA;AAAA;AAAA;AAAA;AAA2pB,CAAgB,6oBAAG,EAAC,C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACsE/qB,+F;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;eACA,EACA,IADA,kBACA,CACA,SACA,YADA,EACA;AACA,gBAFA,EAEA;AACA,gBAHA,EAGA;AACA,oBAJA,EAIA;AACA,mBALA,EAKA;AACA,mBANA,EAMA;AACA,qBAPA,EAOA;AACA,kBARA,EASA,aATA,GAWA,CAbA,EAcA,MAdA,kBAcA,MAdA,EAcA,CACA,oBACA,uBACA,uBACA,CAFA,MAEA,CACA,uBACA,CACA,4BACA,kBADA,IAPA,CAUA;AACA,qBACA,eACA,iBACA,eADA,EAEA,gCACA,6BACA,4BACA,qBACA,sBACA,CAPA,IASA,CApCA,EAqCA,WACA;AACA,UAFA,oBAEA,CACA,iBACA,cACA,wCADA,GAFA,CAKA;AACA,qCACA,qBADA,EAEA,cAFA,EAGA,WAHA,IAIA,IAJA,CAIA,gBACA;AACA,kGACA,CAPA,EAOA,kBACA,mBACA,CATA,EAWA,CAnBA,EAoBA,QApBA,oBAoBA,UApBA,EAoBA,SApBA,EAoBA,UApBA,EAoBA,MApBA,EAoBA,CACA,2BACA,YADA,EACA;AACA,qBAFA,EAEA;AACA,6BAHA,EAGA;AACA,2BAJA,EAIA;AACA,6BALA,EAKA;AACA,iCANA,CAOA;AAPA,SASA,CA9BA,EA+BA;AACA,gBAhCA,0BAgCA,CACA,kBACA,iBACA,2CACA,+BACA,uMADA,EAEA,aAFA,EAGA,QAHA,IAIA,IAJA,CAIA,gBACA;AACA,yBACA,2CACA,yCACA,CACA,2BACA,kBACA,CAZA,EAYA,kBACA,mBACA,CAdA;AAeA,KAnDA;AAoDA;AACA,iBArDA,2BAqDA;AACA;AACA;AACA,iLADA;AAEA,qBAFA;AAGA,gBAHA;AAIA,UAJA,CAIA;AACA;AACA;AACA;AACA,OARA,EAQA;AACA;AACA,OAVA;AAWA,KAlEA;AAmEA,QAnEA,gBAmEA,IAnEA,EAmEA;AACA;AACA,KArEA;AAsEA;AACA,aAvEA,uBAuEA;AACA;AACA;AACA;AACA;AACA,uBADA;AAEA,yCAFA;AAGA;AACA;AACA;AACA;AACA,WAPA;AAQA;AACA;AACA,WAVA;;AAYA,OAbA;AAcA,KAxFA;AAyFA;AACA,YA1FA,sBA0FA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KA1GA;AA2GA;AACA,WA5GA,mBA4GA,CA5GA,EA4GA;AACA;AACA;AACA;AACA;AACA,KAjHA;AAkHA;AACA,SAnHA,iBAmHA,IAnHA,EAmHA;AACA;AACA,0CADA;;AAGA,KAvHA;AAwHA;AACA,aAzHA,uBAyHA;AACA;AACA;AACA,KA5HA;AA6HA;AACA,eA9HA,yBA8HA;AACA;AACA;AACA,KAjIA;AAkIA;AACA,UAnIA,oBAmIA;AACA;AACA;AACA;AACA,KAvIA;AAwIA;AACA,YAzIA,oBAyIA,UAzIA,EAyIA,IAzIA,EAyIA;AACA;AACA;AACA;AACA,8IADA;AAEA,sBAFA;AAGA,kCAHA;AAIA,UAJA,CAIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yBADA;AAEA,qCAFA;AAGA,+BAHA;AAIA;AACA;AACA;AACA;AACA,iCADA;AAEA,mDAFA;AAGA;AACA;AACA;AACA;AACA,qBAPA;AAQA;AACA;AACA,qBAVA;;AAYA,iBAbA;AAcA,eAfA,MAeA;AACA;AACA;AACA,aAvBA;;AAyBA;AACA;AACA;AACA;AACA,SA/BA,MA+BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,OAnDA,EAmDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OA7DA;AA8DA,KA1MA;AA2MA;AACA,WA5MA,mBA4MA,GA5MA,EA4MA;AACA;AACA;AACA;AACA;AACA,sEADA;AAEA,wBAFA;AAGA;AACA,gCADA,EAHA;;AAMA,YANA,CAMA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAbA,EAaA;AACA;AACA,SAfA;AAgBA,OAjBA,MAiBA;AACA;AACA,qCADA;AAEA,wBAFA;AAGA;AACA,qCADA;AAEA,gCAFA,EAHA;;AAOA,YAPA,CAOA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAdA,EAcA;AACA;AACA,SAhBA;AAiBA;;AAEA,KApPA,EArCA;;AA2RA;AACA,aADA,uBACA;AACA;AACA,KAHA;AAIA,SAJA,mBAIA;AACA;AACA;AACA,OAFA,EAEA,IAFA;AAGA,KARA,EA3RA,E;;;;;;;;;;;;;ACvEA;AAAA;AAAA;AAAA;AAAq8B,CAAgB,84BAAG,EAAC,C;;;;;;;;;;;ACAz9B;AACA,OAAO,KAAU,EAAE,kBAKd","file":"pages/agent/stock/stock.js","sourcesContent":["import 'uni-pages';\nimport Vue from 'vue'\nimport Page from './pages/agent/stock/stock.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./stock.vue?vue&type=template&id=7ccfa770&\"\nvar renderjs\nimport script from \"./stock.vue?vue&type=script&lang=js&\"\nexport * from \"./stock.vue?vue&type=script&lang=js&\"\nimport style0 from \"./stock.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!D:\\\\360极速浏览器下载\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\runtime\\\\componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"E:/HBuilderProjects/MotorOrder/pages/agent/stock/stock.vue\"\nexport default component.exports","export * from \"-!D:\\\\360极速浏览器下载\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\templateLoader.js??vue-loader-options!D:\\\\360极速浏览器下载\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--16-0!D:\\\\360极速浏览器下载\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\template.js!D:\\\\360极速浏览器下载\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-uni-app-loader\\\\page-meta.js!D:\\\\360极速浏览器下载\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\360极速浏览器下载\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./stock.vue?vue&type=template&id=7ccfa770&\"","var components\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!D:\\\\360极速浏览器下载\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!D:\\\\360极速浏览器下载\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!D:\\\\360极速浏览器下载\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!D:\\\\360极速浏览器下载\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\360极速浏览器下载\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./stock.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!D:\\\\360极速浏览器下载\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!D:\\\\360极速浏览器下载\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!D:\\\\360极速浏览器下载\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!D:\\\\360极速浏览器下载\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\360极速浏览器下载\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./stock.vue?vue&type=script&lang=js&\"","<template>\r\n\t\n\t<view class=\"stock-container f28\">\r\n\t\t<!-- 手动录入发动机号 -->\r\n\t\t<view class=\"login-dialog\" v-show=\"isShow\">\r\n\t\t\t<view class=\"login-dialog-cont\">\r\n\t\t\t\t<!-- <view class=\"login-title\">为了准确为您和您的客户推送消息，请准确录入您的手机号</view> -->\r\n\t\t\t\t<view class=\"login-list\">\r\n\t\t\t\t\t<text class=\"login-txt\">发动机编码</text>\r\n\t\t\t\t\t<input class=\"uni-input login-input\" v-model=\"engineCode\"  placeholder=\"请录入发动机编码\" />\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"ub\">\r\n\t\t\t\t\t<button type=\"primary\" class=\"login-dialog-btn\" @click=\"cancel()\" style=\"background-color: #CCCCCC;color:#000000\">取消</button>\r\n\t\t\t\t\t<button type=\"primary\" class=\"login-dialog-btn\" @click=\"submitAgent()\">提交</button>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t\t\r\n\t\t<view class=\"custpro-main search-cont\">\r\n\t\t\t<!-- 搜索内容开始 -->\r\n\t\t\t<view class=\"index-search\">\r\n\t\t\t\t<view class=\"index-search-cont\">\r\n\t\t\t\t\t<view class=\"search-input-box\" style=\"width: 100%;\">\r\n\t\t\t\t\t\t<input class=\"index-search-txt\" confirm-type=\"search\" v-model=\"keyTxt\" @input=\"getList\" placeholder=\"请输入产品编号或规格\"  @confirm=\"toSearch()\"  />\r\n\t\t\t\t\t\t<button class=\"index-search-btn s-btn\" @click=\"toSearch()\">搜索</button>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t\t\r\n\t\t\t<!-- 搜索内容结束 -->\r\n\t\t\t<view class=\"ub ub-ver am-list-item\" v-for=\"list in stockList\">\r\n\t\t\t\t<view class=\"ub ub-ac\">\r\n\t\t\t\t\t<view class=\"ub ub-ver ub-f1\">\r\n\t\t\t\t\t\t<view class=\"ub\">\r\n\t\t\t\t\t\t\t<text class=\"ub ub-f1 am-blod\">{{list.spec}}</text>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t<view class=\"ub\">\r\n\t\t\t\t\t\t\t<text class=\"ub ub-f1 am-text-primary\" @click=\"flod(list)\">查看识别码</text>\r\n\t\t\t\t\t\t\t<text class=\"ub ub-f1\">库存:{{list.qty}}</text>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<text class=\"zhiding\" @click=\"showTop(list)\" :style=\"{backgroundColor: list.t_top == 1 ? '#CCCCCC' : '#d44242'}\">{{list.t_top == 1 ? \"取消置顶\" : \"置顶\"}}</text>\r\n\t\t\t\t\t<!-- <view class=\"ub booking-btn\" v-if=\"userInfo.c_level == 1\">\r\n\t\t\t\t\t\t<button type=\"warn\" size=\"mini\" @click=\"tobuy(list.erpcode)\">进货</button>\r\n\t\t\t\t\t</view> -->\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"ub\">\r\n\t\t\t\t\t<view class=\"code-list\" v-show=\"list.isShow\">\r\n\t\t\t\t\t\t<block v-for=\"items in list.item\">\r\n\t\t\t\t\t\t\t<view class=\"code-list-item\">{{items.motorid}}</view>\r\n\t\t\t\t\t\t</block>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t\t\r\n\t\t<view class=\"ub am-btn-fixed am-bg-white ub-ac\">\r\n\t\t\t<view class=\"ub ub-f1\" style=\"padding-left: 30rpx;\">总计：{{stockTotal}}</view>\r\n\t\t\t<view class=\"ub\">\r\n\t\t\t\t<button class=\"am-btn\" type=\"primary\" @click=\"scanEnter()\">扫描入库</button>\r\n\t\t\t\t<button class=\"am-btn\" type=\"warn\" @click=\"handEnter()\">手动入库</button>\r\n\t\t\t</view>\r\n\t\t</view>\n\t\t<view class=\"tiShiWrap\" v-show=\"tiShi\">\n\t\t\t<view class=\"tiShiWrapCon\">{{tiShiText}}</view>\n\t\t</view>\n\t</view>\r\n</template>\r\n<script>\r\n\timport wx from '@/common/js/jwweixin.js'\r\n\texport default {\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\tuserInfo: {}, //用户信息\r\n\t\t\t\tkeyTxt:'',//关键字\r\n\t\t\t\tisonway : 0, //是否在途 0库存 1在途\r\n\t\t\t\tstockTotal : '', //库存总数量\r\n\t\t\t\tstockList: [], //订单列表\r\n\t\t\t\tisShow : false, //是否显示手动录入窗口\r\n\t\t\t\tengineCode : \"A\",//发动机编码\n\t\t\t\ttiShi: false,\n\t\t\t\ttiShiText: ''\n\t\t\t}\r\n\t\t},\r\n\t\tonLoad(option) {\r\n\t\t\tconsole.log(option);\r\n\t\t\tif(option.type == 0){\r\n\t\t\t\tvar navBarTitle = \"库存\";\r\n\t\t\t}else{\r\n\t\t\t\tvar navBarTitle = \"在途\";\r\n\t\t\t}\r\n\t\t\tuni.setNavigationBarTitle({\r\n\t\t\t\ttitle: navBarTitle\r\n\t\t\t})\n\t\t\t//读取存储数据\r\n\t\t\tlet this_ = this;\r\n\t\t\tthis_.wxInit();\r\n\t\t\tuni.getStorage({\r\n\t\t\t\tkey: 'userInfo',\r\n\t\t\t\tsuccess: function(res) {\r\n\t\t\t\t\tthis_.userInfo = res.data[0];\r\n\t\t\t\t\tthis_.isonway = option.type;\r\n\t\t\t\t\tthis_.getStockList();\r\n\t\t\t\t\tthis_.getStockTotal();\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\t//微信\r\n\t\t\twxInit() {\r\n\t\t\t\tlet this_ = this;\r\n\t\t\t\tlet _data = {\r\n\t\t\t\t\turl: 'http://tiangang.htqp.com.cn:2345/',\r\n\t\t\t\t};\r\n\t\t\t\t// 获取微信签名\r\n\t\t\t\tthis_.$http.httpTokenRequest({\r\n\t\t\t\t\turl: 'JsSdkUiPackage',\r\n\t\t\t\t\tmethod: 'POST',\r\n\t\t\t\t\tdata: _data,\r\n\t\t\t\t}).then(res => {\r\n\t\t\t\t\t//请求成功\r\n\t\t\t\t\tthis_.wxConfig(res.data.Timestamp, res.data.NonceStr, res.data.Signature, res.data.AppId);\r\n\t\t\t\t}, error => {\r\n\t\t\t\t\tconsole.log(error);\r\n\t\t\t\t});\r\n\t\t\t\r\n\t\t\t},\r\n\t\t\twxConfig(_timestamp, _nonceStr, _signature, _appId) {\r\n\t\t\t\twx.config({\r\n\t\t\t\t\tdebug: false, // 开启调试模式,调用的所有api的返回值会在客户端alert出来，若要查看传入的参数，可以在pc端打开，参数信息会通过log打出，仅在pc端时才会打印。\r\n\t\t\t\t\tappId: _appId, // 必填，公众号的唯一标识\r\n\t\t\t\t\ttimestamp: _timestamp, // 必填，生成签名的时间戳\r\n\t\t\t\t\tnonceStr: _nonceStr, // 必填，生成签名的随机串\r\n\t\t\t\t\tsignature: _signature, // 必填，签名，见附录1\r\n\t\t\t\t\tjsApiList: ['scanQRCode']\r\n\t\t\t\t\t// 必填，需要使用的JS接口列表，所有JS接口列表见附录2\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\t//查询库存\r\n\t\t\tgetStockList() {\r\n\t\t\t\tuni.showLoading();\r\n\t\t\t\tlet this_ = this;\r\n\t\t\t\tconsole.log(\"c_id:\"+this_.userInfo.c_id);\r\n\t\t\t\tthis_.$http.httpTokenRequest({\r\n\t\t\t\t\turl: this_.$api.CustStorage + '?c_id=' + this_.userInfo.c_id + '&ma002=' + this_.userInfo.c_ma002 + '&level=' + this_.userInfo.c_level + '&m_id=' + this_.userInfo.c_m_id + '&isonway=' + this_.isonway,\r\n\t\t\t\t\tmethod: 'GET',\r\n\t\t\t\t\tdata: {},\r\n\t\t\t\t}).then(res => {\r\n\t\t\t\t\t//请求成功\r\n\t\t\t\t\tconsole.log(res);\r\n\t\t\t\t\tfor(let i = 0; i < res.data.length; i++){\r\n\t\t\t\t\t\tthis_.$set(res.data[i], 'isShow', false);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tthis_.stockList = res.data;\r\n\t\t\t\t\tuni.hideLoading();\r\n\t\t\t\t}, error => {\r\n\t\t\t\t\tconsole.log(error);\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\t//查询库存总数量\r\n\t\t\tgetStockTotal(){\r\n\t\t\t\tlet this_ = this;\r\n\t\t\t\tthis_.$http.httpTokenRequest({\r\n\t\t\t\t\turl: this_.$api.CustStorageQty + '?ma002=' + this_.userInfo.c_ma002 + '&level=' + this_.userInfo.c_level + '&m_id=' + this_.userInfo.c_m_id + '&isonway=' + this_.isonway,\r\n\t\t\t\t\tmethod: 'GET',\r\n\t\t\t\t\tdata: {},\r\n\t\t\t\t}).then(res => {\r\n\t\t\t\t\t//请求成功\r\n\t\t\t\t\tconsole.log(res);\r\n\t\t\t\t\tthis_.stockTotal = res.data;\r\n\t\t\t\t}, error => {\r\n\t\t\t\t\tconsole.log(error);\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\tflod(list){\r\n\t\t\t\tlist.isShow = !list.isShow;\r\n\t\t\t},\r\n\t\t\t//扫描入库\r\n\t\t\tscanEnter(){\r\n\t\t\t\tlet this_ = this;\r\n\t\t\t\tconsole.log(this_.userInfo);\r\n\t\t\t\twx.ready(function() {\r\n\t\t\t\t\twx.scanQRCode({\r\n\t\t\t\t\t\tneedResult: 1,\r\n\t\t\t\t\t\tscanType: [\"qrCode\", \"barCode\"],\r\n\t\t\t\t\t\tsuccess: function(res) {\r\n\t\t\t\t\t\t\tlet urlName = res.resultStr;\r\n\t\t\t\t\t\t\tlet engineCode = urlName.split(\"?\")[1].split(\"=\")[1];\r\n\t\t\t\t\t\t\tthis_.addStock(engineCode,0);\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\terror: function(res) {\r\n\t\t\t\t\t\t\talert(\"失败：\"+JSON.stringify(res));\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\t//搜索\r\n\t\t\ttoSearch(){\r\n\t\t\t\tlet this_ = this;\r\n\t\t\t\tif(this_.keyTxt != \"\"){\r\n\t\t\t\t\tlet str = this_.keyTxt.toUpperCase();\r\n\t\t\t\t\tlet arr = [];\r\n\t\t\t\t\tfor(let i = 0; i < this_.stockList.length; i++){\r\n\t\t\t\t\t\t// if(this_.stockList[i].erpcode.indexOf(str) >= 0){\r\n\t\t\t\t\t\t// \tarr.push(this_.stockList[i]);\r\n\t\t\t\t\t\t// \tthis_.stockList = arr;\r\n\t\t\t\t\t\t// }else \r\n\t\t\t\t\t\tif(this_.stockList[i].spec.indexOf(str) >= 0){\r\n\t\t\t\t\t\t\tarr.push(this_.stockList[i]);\r\n\t\t\t\t\t\t\tthis_.stockList = arr;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t//搜索清空\r\n\t\t\tgetList(e){\r\n\t\t\t\tlet this_ = this;\r\n\t\t\t\tif(e.detail.value == \"\"){\r\n\t\t\t\t\tthis_.getStockList();\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t//进货\r\n\t\t\ttobuy(code){\r\n\t\t\t\tuni.navigateTo({\r\n\t\t\t\t\turl:'../tobuy/tobuy?code='+code\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\t//手动录入\r\n\t\t\thandEnter(){\r\n\t\t\t\tlet this_ = this;\r\n\t\t\t\tthis_.isShow = true;\r\n\t\t\t},\r\n\t\t\t//手动录入-提交\r\n\t\t\tsubmitAgent(){\r\n\t\t\t\tlet this_ = this;\r\n\t\t\t\tthis_.addStock(this_.engineCode,1)\r\n\t\t\t},\r\n\t\t\t//取消手动录入\r\n\t\t\tcancel(){\n\t\t\t\tlet this_ = this;\n\t\t\t\tthis_.engineCode = 'A';\r\n\t\t\t\tthis.isShow = false;\r\n\t\t\t},\r\n\t\t\t//增加库存\r\n\t\t\taddStock(engineCode,type){\r\n\t\t\t\tlet this_ = this;\r\n\t\t\t\tuni.showLoading();\r\n\t\t\t\tthis_.$http.httpTokenRequest({\r\n\t\t\t\t\turl:this_.$api.MotorBind + '?ma002=' + this_.userInfo.c_ma002 + '&level=' + this_.userInfo.c_level + '&m_id=' + this_.userInfo.c_m_id,\r\n\t\t\t\t\tmethod:'POST',\r\n\t\t\t\t\tdata:{code:engineCode},\r\n\t\t\t\t}).then(res => {\r\n\t\t\t\t\t//请求成功\r\n\t\t\t\t\tuni.hideLoading();\r\n\t\t\t\t\tconsole.log(res);\r\n\t\t\t\t\tif(res.data.State){\n\t\t\t\t\t\tthis_.engineCode = 'A';\r\n\t\t\t\t\t\tuni.showModal({\r\n\t\t\t\t\t\t    title: '温馨提示',\r\n\t\t\t\t\t\t    content: res.data.Message,\n\t\t\t\t\t\t\tconfirmText: '继续扫描',\r\n\t\t\t\t\t\t    success: function (res) {\r\n\t\t\t\t\t\t        if (res.confirm) {\r\n\t\t\t\t\t\t            wx.ready(function() {\n\t\t\t\t\t\t            \twx.scanQRCode({\n\t\t\t\t\t\t            \t\tneedResult: 1,\n\t\t\t\t\t\t            \t\tscanType: [\"qrCode\", \"barCode\"],\n\t\t\t\t\t\t            \t\tsuccess: function(res) {\n\t\t\t\t\t\t            \t\t\tlet urlName = res.resultStr;\n\t\t\t\t\t\t            \t\t\tlet engineCode = urlName.split(\"?\")[1].split(\"=\")[1];\n\t\t\t\t\t\t            \t\t\tthis_.addStock(engineCode,0);\n\t\t\t\t\t\t            \t\t},\n\t\t\t\t\t\t            \t\terror: function(res) {\n\t\t\t\t\t\t            \t\t\talert(\"失败：\"+JSON.stringify(res));\n\t\t\t\t\t\t            \t\t}\n\t\t\t\t\t\t            \t});\n\t\t\t\t\t\t            });\r\n\t\t\t\t\t\t        } else if (res.cancel) {\r\n\t\t\t\t\t\t            //console.log('用户点击取消');\r\n\t\t\t\t\t\t        }\r\n\t\t\t\t\t\t    }\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\t// if(type == 1){\r\n\t\t\t\t\t\t// \tthis_.isShow = !this_.isShow;\r\n\t\t\t\t\t\t// }\r\n\t\t\t\t\t\tthis.getStockList();\r\n\t\t\t\t\t}else{\r\n\t\t\t\t\t\t// uni.showToast({\r\n\t\t\t\t\t\t// \ticon : \"none\",\r\n\t\t\t\t\t\t// \ttitle : res.data.Message,\r\n\t\t\t\t\t\t// \tduration:1500\r\n\t\t\t\t\t\t// })\n\t\t\t\t\t\tthis.tiShi = true;\n\t\t\t\t\t\tthis.tiShiText = res.data.Message;\r\n\t\t\t\t\t\tthis_.engineCode = \"\";\r\n\t\t\t\t\t\t//this_.isShow = !this_.isShow;\r\n\t\t\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\t\t},error => {\r\n\t\t\t\t\t//uni.hideLoading();\r\n\t\t\t\t\t// uni.showToast({\r\n\t\t\t\t\t// \ticon : \"none\",\r\n\t\t\t\t\t// \ttitle : \"入库失败\",\r\n\t\t\t\t\t// \tduration:1500\r\n\t\t\t\t\t// })\n\t\t\t\t\tthis.tiShi = true;\n\t\t\t\t\tthis.tiShiText = \"入库失败\";\r\n\t\t\t\t\tconsole.log(error);\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\t//置顶\r\n\t\t\tshowTop(obj){\r\n\t\t\t\tlet this_ = this;\r\n\t\t\t\tdebugger;\r\n\t\t\t\tif(obj.t_top == 1){\r\n\t\t\t\t\tthis_.$http.httpTokenRequest({\r\n\t\t\t\t\t\turl:this_.$api.CustStorage+\"?c_id=\" + this_.userInfo.c_id,\r\n\t\t\t\t\t\tmethod:'POST',\r\n\t\t\t\t\t\tdata:{\r\n\t\t\t\t\t\t\terpcode : obj.erpcode\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t}).then(res => {\r\n\t\t\t\t\t\t//请求成功\r\n\t\t\t\t\t\tconsole.log(\"取消\");\r\n\t\t\t\t\t\tconsole.log(res);\r\n\t\t\t\t\t\tif(res.data.State){\r\n\t\t\t\t\t\t\tobj.t_top = 0;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t},error => {\r\n\t\t\t\t\t\tconsole.log(error);\r\n\t\t\t\t\t});\r\n\t\t\t\t}else{\r\n\t\t\t\t\tthis_.$http.httpTokenRequest({\r\n\t\t\t\t\t\turl:this_.$api.CustStorage,\r\n\t\t\t\t\t\tmethod:'POST',\r\n\t\t\t\t\t\tdata:{\r\n\t\t\t\t\t\t\tc_id : this_.userInfo.c_id,\r\n\t\t\t\t\t\t\terpcode : obj.erpcode\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t}).then(res => {\r\n\t\t\t\t\t\t//请求成功\r\n\t\t\t\t\t\tconsole.log(\"置顶\");\r\n\t\t\t\t\t\tconsole.log(res);\r\n\t\t\t\t\t\tif(res.data.State){\r\n\t\t\t\t\t\t\tobj.t_top = 1;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t},error => {\r\n\t\t\t\t\t\tconsole.log(error);\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t}\r\n\t\t},\n\t\twatch:{\n\t\t\tstockList(){\n\t\t\t\tthis.getStockTotal();\n\t\t\t},\n\t\t\ttiShi(){\n\t\t\t\tsetTimeout(()=>{\n\t\t\t\t\tthis.tiShi = false;\n\t\t\t\t},5000);\n\t\t\t}\n\t\t}\r\n\t}\r\n</script>\r\n<style>\r\n.images{\r\n\theight: 180rpx;\r\n\twidth: 180rpx;\r\n}\r\n.desc{\r\n\tmargin-left: 30rpx;\r\n}\r\n.size{\r\n\tpadding: 25rpx 0;\r\n}\r\n.am-list-item{\r\n\tmargin: 20rpx 30rpx;\r\n\tborder-bottom: 1px solid #eeeeee;\r\n\tpadding-bottom: 20rpx;\r\n}\r\n.umar-r{\r\n\tmargin-right: 15rpx;\r\n}\r\n.code-list{\r\n\twidth: 100%;\r\n\tbackground-color: #EEEEEE;\r\n\tpadding: 15rpx 30rpx;\r\n\tborder-radius: 10rpx;\r\n}\r\n.code-list-item{\r\n\twidth: 50%;\r\n\tfloat: left;\r\n}\r\n.uinn-t{\r\n\tpadding-top: 20rpx;\r\n}\r\n.stock-container{\r\n\tpadding-bottom:60rpx;\r\n}\r\n.booking-btn button{\r\n\theight: 24px;\r\n\tline-height: 24px;\r\n\tfont-size: 12px;\r\n}\r\n.am-btn-fixed{\r\n\tborder-top: 1px solid #CCCCCC;\r\n}\r\n.am-btn-fixed .am-btn{\r\n\theight: 42px;\r\n\tfont-size: 15px;\r\n\tborder-radius:initial;\r\n\tpadding: 0 30rpx;\r\n}\r\n.zhiding{\r\n\tmargin-left: 10rpx;\r\n\tcolor: #FFFFFF;\r\n\t/* background-color: #d44242; */\r\n\tpadding: 0 10rpx;\r\n\tborder-radius: 10rpx;\r\n\tfont-size: 12px;\r\n}\n.tiShiWrap{\n\tposition: fixed;\n\twidth: 100%;\n\theight: 100%;\n\tleft: 0;\n\ttop: 0;\n\tdisplay: block;\n\tbackground: rgba(60,60,60,.8);\n\tz-index: 2;\n}\n.tiShiWrapCon{\n\tborder-radius: 10rpx;\n\twidth: 300rpx;\n\theight: 100rpx;\n\tline-height: 100rpx;\n\ttext-align: center;\n\tcolor: #FF0000;\n\tposition: absolute;\n\tfont-size: 40rpx;\n\tleft: 50%;\n\ttop:50%;\n\tmargin-left: -150rpx;\n\tbackground-color: #FFFFFF;\n}\r\n</style>","import mod from \"-!D:\\\\360极速浏览器下载\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--6-oneOf-1-0!D:\\\\360极速浏览器下载\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--6-oneOf-1-1!D:\\\\360极速浏览器下载\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!D:\\\\360极速浏览器下载\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--6-oneOf-1-2!D:\\\\360极速浏览器下载\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--6-oneOf-1-3!D:\\\\360极速浏览器下载\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\360极速浏览器下载\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./stock.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!D:\\\\360极速浏览器下载\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--6-oneOf-1-0!D:\\\\360极速浏览器下载\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--6-oneOf-1-1!D:\\\\360极速浏览器下载\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!D:\\\\360极速浏览器下载\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--6-oneOf-1-2!D:\\\\360极速浏览器下载\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--6-oneOf-1-3!D:\\\\360极速浏览器下载\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\360极速浏览器下载\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./stock.vue?vue&type=style&index=0&lang=css&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1594713235024\n      var cssReload = require(\"D:/360极速浏览器下载/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}