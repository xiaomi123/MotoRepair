(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-agent-index-index"],{"13d2":function(t,i,e){"use strict";e.r(i);var n=e("f71c"),a=e("158f");for(var o in a)"default"!==o&&function(t){e.d(i,t,(function(){return a[t]}))}(o);e("8e41");var s,c=e("f0c5"),r=Object(c["a"])(a["default"],n["b"],n["c"],!1,null,"309646fc",null,!1,n["a"],s);i["default"]=r.exports},"158f":function(t,i,e){"use strict";e.r(i);var n=e("174f"),a=e.n(n);for(var o in n)"default"!==o&&function(t){e.d(i,t,(function(){return n[t]}))}(o);i["default"]=a.a},"174f":function(t,i,e){"use strict";(function(t){var n=e("4ea4");e("99af"),e("4de4"),e("a434"),e("e25e"),Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var a=n(e("e730")),o=n(e("d7f8")),s=n(e("1eb0")),c=n(e("4ecc")),r=n(e("7bc6")),u=n(e("b161")),d=n(e("80b8")),l=n(e("bd18")),p=n(e("b70f")),f={components:{uniPopup:a.default,uniIcons:o.default,uniNoticeBar:s.default,uniLoadMore:c.default,uniGrid:r.default,uniGridItem:u.default,uniBadge:d.default,uniList:l.default,uniListItem:p.default},data:function(){return{indicatorDots:!0,autoplay:!0,interval:2e3,duration:500,proList:[],bproList:[],userInfo:{},desc:"您有修理厂新订单数量（请点击查看）",addNum:0,desc03:"您有协议客户新订单数量（请点击查看）",addNum01:0,desc02:"您有新待审核账号（请点击查看）",addRep:0,p:1,pageSize:100,pageCount:"",status:"more",keywords:"",tabList:[{pagePath:"../index/index",iconPath:"../../../static/images/icon_index_bottom01.png",selectedIconPath:"../../../static/images/icon_index_bottom11.png",text:"首页",badge:""},{pagePath:"../customer/customer",iconPath:"../../../static/images/icon_index_bottom05.png",selectedIconPath:"../../../static/images/icon_index_bottom15.png",text:"代客下单",badge:""},{pagePath:"../user/user",iconPath:"../../../static/images/icon_index_bottom04.png",selectedIconPath:"../../../static/images/icon_index_bottom14.png",text:"我的",badge:""}],tabNum:3,currentTabIndex:0,agentInfo:{c_tel:"",c_tel1:"",c_nickname:"",c_prov:"",c_city:"",c_address:"",c_state:"0",c_main:""},menuList:[{url:"../../../static/images/menu6.png",text:"收藏夹",linkUrl:"../collect/collect",badge:""},{url:"../../../static/images/xlcorder.png",text:"修理厂订单",linkUrl:"../reporder/reporder?id=0",badge:""}],thumbSize:{width:"20px",height:"17px"},cartList:getApp().globalData.carsType,roleTxt:"",tabcolor:"#3079F3",isShow:-1}},onLoad:function(){var i=this;uni.getStorage({key:"userInfo",success:function(e){t.log(e),i.userInfo=e.data[0],1==i.userInfo.c_level&&(i.roleTxt=i.userInfo.c_ma002+"为江陵动力大和采配送服务商",1==i.userInfo.c_admin&&(i.menuList.splice(1,0,{url:"../../../static/images/booking.png",text:"缺货预订",linkUrl:"../booking/booking",badge:"",type:"error"}),i.tabList.splice(1,0,{pagePath:"../tobuy/tobuy",iconPath:"../../../static/images/icon_index_bottom06.png",selectedIconPath:"../../../static/images/icon_index_bottom16.png",text:"进货",badge:""}),i.tabNum=4)),i.$check.isEmpty(i.userInfo.c_nickname)||(i.agentInfo.c_nickname=i.userInfo.c_nickname),i.$check.isEmpty(i.userInfo.c_tel)||(i.agentInfo.c_tel=i.userInfo.c_tel),i.$check.isEmpty(i.userInfo.c_address)||(i.agentInfo.c_address=i.userInfo.c_address),i.$check.isEmpty(i.userInfo.c_prov)||(i.agentInfo.c_prov=i.userInfo.c_prov),i.$check.isEmpty(i.userInfo.c_city)||(i.agentInfo.c_city=i.userInfo.c_city),i.getNewOrder(),i.getNewRepair(),i.changeShopType(-1),i.getRemindNum()}}),this.$check.cartNum()},onShow:function(){this.getNewOrder(),this.getNewRepair()},methods:{submitAgent:function(){var i=this;return i.$check.isEmpty(i.agentInfo.c_tel)?(uni.showToast({icon:"none",title:"手机号不能为空",duration:1500}),!1):i.$check.ckTel(i.agentInfo.c_tel)?(uni.showLoading(),void i.$http.httpTokenRequest({url:i.$api.UserState+"?c_id="+i.userInfo.c_id,method:"POST",data:i.agentInfo}).then((function(e){if(uni.hideLoading(),e.data.State){uni.showToast({icon:"none",title:e.data.Message,duration:1500}),i.userInfo.isfirst=0;var n=[];n.push(i.userInfo),uni.setStorage({key:"userInfo",data:n,success:function(){t.log("success")}})}}),(function(i){t.log(i)}))):(uni.showToast({icon:"none",title:"手机号格式不正确",duration:1500}),!1)},toOrder:function(t){uni.navigateTo({url:"../reporder/reporder?id=0&type="+t})},toRepair:function(){uni.navigateTo({url:"../newrepair/newrepair"})},getNewOrder:function(){var i=this;uni.showLoading(),i.$http.httpTokenRequest({url:i.$api.CustNewOrderQty+"?c_ma001="+i.userInfo.c_ma001+"&m_id="+i.userInfo.c_m_id,method:"GET",data:{}}).then((function(t){i.addNum=t.data.filter((function(t){return 0==t.s_type_no}))[0].qty,i.addNum01=t.data.filter((function(t){return 1==t.s_type_no}))[0].qty,uni.hideLoading()}),(function(i){t.log(i)}))},getNewRepair:function(){var i=this;uni.showLoading(),i.$http.httpTokenRequest({url:i.$api.UserQty+"?state=1&ma001="+i.userInfo.c_ma001+"&m_id="+i.userInfo.c_m_id,method:"GET",data:{}}).then((function(t){uni.hideLoading(),i.addRep=t.data}),(function(i){t.log(i)}))},changeShopType:function(t){var i=this;i.p=1,i.isShow=t,0==t?i.getProduct():1==t?this.getBookProduct():-1==t&&(i.getProduct(),this.getBookProduct())},getProduct:function(){var i=this;uni.showLoading(),i.$http.httpTokenRequest({url:i.$api.ProductHome+"?c_id="+i.userInfo.c_id+"&c_type="+i.userInfo.c_type+"&c_ma001="+i.userInfo.c_ma001+"&tag="+i.keywords+"&pageindex="+i.p+"&pagesize="+i.pageSize,method:"GET",data:{}}).then((function(e){uni.hideLoading(),t.log(e),i.p>1?i.proList=i.proList.concat(e.data.rows):i.proList=e.data.rows,i.status="more",i.papeTotal(e.data.total)}),(function(i){t.log(i)}))},getBookProduct:function(){var i=this;uni.showLoading(),i.$http.httpTokenRequest({url:i.$api.ProductByPre+"?c_id="+i.userInfo.c_id+"&tag="+i.keywords+"&pageindex="+i.p+"&pagesize="+i.pageSize,method:"GET",data:{}}).then((function(e){uni.hideLoading(),t.log(e),i.p>1?i.bproList=i.bproList.concat(e.data.rows):i.bproList=e.data.rows,i.status="more",i.papeTotal(e.data.total)}),(function(i){t.log(i)}))},toDetail:function(t){var i=this;if(0==i.isShow)var e="index";else e="tobuy";uni.navigateTo({url:"../detail/detail?code="+t.erpcode+"&type="+e})},getRemindNum:function(){var i=this;i.$http.httpTokenRequest({url:i.$api.RemindQty+"?c_id="+i.userInfo.c_id+"&storage="+i.userInfo.storage,method:"GET",data:{}}).then((function(t){i.menuList[1].badge=t.data}),(function(i){t.log(i)}))},collect:function(i){var e=this;e.$http.httpTokenRequest({url:e.$api.AddFavorite,method:"POST",data:{c_id:e.userInfo.c_id,c_ma001:e.userInfo.c_ma001,c_ma002:e.userInfo.c_ma002,i_mb001:i.erpcode}}).then((function(t){t.data.State&&(i.f_id=t.data.centent,uni.showToast({icon:"none",title:"收藏成功",duration:1500}))}),(function(i){t.log(i)}))},collCancle:function(i){var e=this;e.$http.httpTokenRequest({url:e.$api.DelFavorite,method:"POST",data:[{f_id:i.f_id}]}).then((function(t){t.data.State&&(i.f_id=""),uni.showToast({icon:"none",title:"取消收藏",duration:1500})}),(function(i){t.log(i)}))},papeTotal:function(t){var i=this;if(null==t||""==t)return 0;t%i.pageSize==0?i.pageCount=parseInt(t/i.pageSize):i.pageCount=parseInt(t/i.pageSize)+1},filter:function(){uni.navigateTo({url:"../cate/cate"})},search:function(t){var i=this;uni.navigateTo({url:"../proList/proList?scode=&keyWord="+i.keywords})},commonMenu:function(t){uni.navigateTo({url:t.linkUrl+"?id="+t.id})},toHotCart:function(t){uni.navigateTo({url:"../hotCart/hotCart?code="+t.code})},moreCart:function(){uni.navigateTo({url:"../hotCartAll/hotCartAll"})}},onReachBottom:function(){this.p<this.pageCount?(this.p++,this.status="loading",this.getProduct()):this.status="noMore"}};i.default=f}).call(this,e("5a52")["default"])},"368c":function(t,i,e){t.exports=e.p+"static/img/hotIcon.3fc78cf9.png"},"67ef":function(t,i,e){var n=e("a9ba");"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var a=e("4f06").default;a("a584ecaa",n,!0,{sourceMap:!1,shadowMode:!1})},"8e41":function(t,i,e){"use strict";var n=e("67ef"),a=e.n(n);a.a},a9ba:function(t,i,e){var n=e("24fb");i=n(!1),i.push([t.i,".umar-l[data-v-309646fc]{margin-left:%?10?%}.example-body[data-v-309646fc]{-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;flex-direction:row;-webkit-flex-wrap:wrap;flex-wrap:wrap;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center;padding:%?15?% 0;font-size:14px}.grid-item-box[data-v-309646fc]{-webkit-box-flex:1;-webkit-flex:1;flex:1;\r\ndisplay:-webkit-box;display:-webkit-flex;display:flex;\r\n-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;flex-direction:column;-webkit-box-align:center;-webkit-align-items:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center}.image[data-v-309646fc]{width:%?35?%;height:%?50?%;margin-right:%?15?%}.text[data-v-309646fc]{font-size:%?26?%;margin-top:%?10?%}.grid-dot[data-v-309646fc]{position:absolute;top:1px;right:30px}.iconfont[data-v-309646fc]{font-size:%?24?%}.index-list-rejx[data-v-309646fc]{width:100%;margin-bottom:0}.index-content .uni-grid-item[data-v-309646fc]{margin-right:2%}.menuList .uni-grid-item[data-v-309646fc]{margin-right:4%}.index-content .uni-grid-item[data-v-309646fc]:last-child,\r\n.menuList .uni-grid-item[data-v-309646fc]:last-child,\r\n.rmcxList .index-content .uni-grid-item[data-v-309646fc]:nth-child(even){margin-right:0}.menuList .uni-grid-item[data-v-309646fc]{background-color:#eee;padding:10px 0;-webkit-border-radius:%?15?%;border-radius:%?15?%}.rmcxList .uni-grid-item[data-v-309646fc]:nth-child(1),\r\n.rmcxList .uni-grid-item[data-v-309646fc]:nth-child(4){background-color:#c9d4f0}.rmcxList .uni-grid-item[data-v-309646fc]:nth-child(2),\r\n.rmcxList .uni-grid-item[data-v-309646fc]:nth-child(3){background-color:#eee}.rmcxList .uni-grid-item[data-v-309646fc]{padding:%?15?%;margin-bottom:%?15?%}.cx-image[data-v-309646fc]{width:%?100?%;height:%?100?%;display:block}.umar-b15[data-v-309646fc]{margin-bottom:%?15?%}\r\n/*产品列表*/.shopList[data-v-309646fc]{padding:%?30?% 0}.shopList .icon-img[data-v-309646fc]{width:%?42?%;margin-right:%?15?%}.index-ys[data-v-309646fc]{position:relative}.index-dp[data-v-309646fc]{position:absolute;top:0;right:0;width:%?119?%;z-index:1}",""]),t.exports=i},f71c:function(t,i,e){"use strict";e.d(i,"b",(function(){return a})),e.d(i,"c",(function(){return o})),e.d(i,"a",(function(){return n}));var n={uniNoticeBar:e("1eb0").default,uniLoadMore:e("4ecc").default,tabBar:e("e840").default},a=function(){var t=this,i=t.$createElement,n=t._self._c||i;return n("v-uni-view",{staticClass:"index_container"},[1==t.userInfo.isfirst?n("v-uni-view",{staticClass:"login-dialog login-dialog-zindex"},[n("v-uni-view",{staticClass:"login-dialog-cont"},[n("v-uni-view",{staticClass:"login-title"},[t._v("为了准确为您和您的客户推送消息，请准确录入您的手机号")]),n("v-uni-view",{staticClass:"login-list"},[n("v-uni-text",{staticClass:"login-txt"},[t._v("联系电话")]),n("v-uni-input",{staticClass:"uni-input login-input",attrs:{placeholder:"请录入联系电话"},model:{value:t.agentInfo.c_tel,callback:function(i){t.$set(t.agentInfo,"c_tel",i)},expression:"agentInfo.c_tel"}})],1),n("v-uni-button",{staticClass:"login-dialog-btn",attrs:{type:"primary"},on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.submitAgent()}}},[t._v("提交")])],1)],1):t._e(),n("v-uni-view",{staticClass:"index-search",staticStyle:{top:"0","z-index":"2"}},[n("v-uni-view",{staticClass:"index-search-cont"},[n("v-uni-button",{staticClass:"index-search-btn"},[t._v("品牌目录")]),n("v-uni-view",{staticClass:"search-input-box"},[n("v-uni-input",{staticClass:"index-search-txt",attrs:{"confirm-type":"search",placeholder:"请输入产品名/型号"},on:{confirm:function(i){arguments[0]=i=t.$handleEvent(i),t.search.apply(void 0,arguments)}},model:{value:t.keywords,callback:function(i){t.keywords=i},expression:"keywords"}}),n("v-uni-button",{staticClass:"index-search-btn s-btn",on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.search()}}},[t._v("搜索")])],1)],1)],1),n("v-uni-view",{staticClass:"notice-bar"},[n("uni-notice-bar",{attrs:{showIcon:"true",text:t.roleTxt,"background-color":"#eeeeee",color:"#333333"}})],1),t.addRep>0?n("v-uni-view",{staticClass:"notice-bar",on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.toRepair()}}},[n("uni-notice-bar",{attrs:{showIcon:"true",text:t.desc02+t.addRep,backgroundColor:"#c8ecc8",color:"#36ce36"}})],1):t._e(),t.addNum>0?n("v-uni-view",{staticClass:"notice-bar",on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.toOrder(0)}}},[n("uni-notice-bar",{attrs:{showIcon:"true",text:t.desc+t.addNum}})],1):t._e(),n("v-uni-swiper",{staticClass:"swiper index-slide",attrs:{circular:"false","indicator-dots":t.indicatorDots,autoplay:t.autoplay,interval:t.interval,duration:t.duration,"indicator-color":"#999","indicator-active-color":"#14489b"}},[n("v-uni-swiper-item",[n("v-uni-view",{staticClass:"swiper-item"},[n("v-uni-image",{staticClass:"index_slidImg",attrs:{src:e("8bea"),mode:"scaleToFill"}})],1)],1),n("v-uni-swiper-item",[n("v-uni-view",{staticClass:"swiper-item"},[n("v-uni-image",{staticClass:"index_slidImg",attrs:{src:e("8a7e"),mode:"scaleToFill"}})],1)],1),n("v-uni-swiper-item",[n("v-uni-view",{staticClass:"swiper-item"},[n("v-uni-image",{staticClass:"index_slidImg",attrs:{src:e("5289"),mode:"scaleToFill"}})],1)],1),n("v-uni-swiper-item",[n("v-uni-view",{staticClass:"swiper-item"},[n("v-uni-image",{staticClass:"index_slidImg",attrs:{src:e("30a3"),mode:"scaleToFill"}})],1)],1),n("v-uni-swiper-item",[n("v-uni-view",{staticClass:"swiper-item"},[n("v-uni-image",{staticClass:"index_slidImg",attrs:{src:e("7aa6"),mode:"scaleToFill"}})],1)],1),n("v-uni-swiper-item",[n("v-uni-view",{staticClass:"swiper-item"},[n("v-uni-image",{staticClass:"index_slidImg",attrs:{src:e("5708"),mode:"scaleToFill"}})],1)],1)],1),n("v-uni-view",{staticClass:"index-content"},[n("v-uni-view",{staticClass:"ub f28 shopList"},[n("v-uni-view",{staticClass:"ub ub-f1 ub-ac ub-pc",on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.changeShopType(-1)}}},[n("v-uni-image",{staticClass:"icon-img",attrs:{src:e("0846"),mode:"widthFix"}}),n("v-uni-text",{style:{color:-1==t.isShow?"#3079F3":"#333333"}},[t._v("全部")])],1),n("v-uni-view",{staticClass:"ub ub-f1 ub-ac ub-pc",on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.changeShopType(0)}}},[n("v-uni-image",{staticClass:"icon-img",attrs:{src:e("0846"),mode:"widthFix"}}),n("v-uni-text",{style:{color:0==t.isShow?"#3079F3":"#333333"}},[t._v("在售产品")])],1),n("v-uni-view",{staticClass:"ub ub-f1 ub-ac ub-pc",on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.changeShopType(1)}}},[n("v-uni-image",{staticClass:"icon-img",attrs:{src:e("0846"),mode:"widthFix"}}),n("v-uni-text",{style:{color:1==t.isShow?"#3079F3":"#333333"}},[t._v("预售产品")])],1)],1),0==t.isShow||-1==t.isShow?n("v-uni-view",{staticClass:"index-product"},t._l(t.proList,(function(i,e){return n("v-uni-view",{staticClass:"index-list",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.toDetail(i)}}},[n("v-uni-image",{staticClass:"index-listImg",attrs:{src:t.$http.imgUrl+i.titlepicurl,mode:"widthFix"}}),n("v-uni-view",{staticClass:"index-uinn"},[n("v-uni-text",{staticClass:"index-title"},[t._v(t._s(i.title))]),n("v-uni-view",{staticClass:"index-txt"},[n("v-uni-text",[t._v("品牌:"+t._s(i.suitable))])],1),n("v-uni-view",{},[t._v("会员价："),n("v-uni-text",{staticClass:"am-text-danger"},[t._v("￥")]),n("v-uni-text",{staticClass:"index-price"},[t._v(t._s(i.currentpriceb))])],1),n("v-uni-view",{},[t._v("非会员价："),n("v-uni-text",{staticClass:"f24 am-text-warning"},[t._v("￥")]),n("v-uni-text",{staticClass:"index-price f28 am-text-warning"},[t._v(t._s(i.currentprice))])],1),n("v-uni-view",{},[t._v("车主价格："),n("v-uni-text",{staticClass:"f24 am-text-primary"},[t._v("￥")]),n("v-uni-text",{staticClass:"index-price f28 am-text-primary"},[t._v(t._s(i.currentpricec))])],1)],1)],1)})),1):t._e(),1==t.isShow||-1==t.isShow?n("v-uni-view",{staticClass:"index-product"},t._l(t.bproList,(function(i,a){return n("v-uni-view",{staticClass:"index-list index-ys",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.toDetail(i)}}},[n("v-uni-image",{staticClass:"icon-img index-dp",attrs:{src:e("368c"),mode:"widthFix"}}),n("v-uni-image",{staticClass:"index-listImg",attrs:{src:t.$http.imgUrl+i.titlepicurl,mode:"widthFix"}}),n("v-uni-view",{staticClass:"index-uinn"},[n("v-uni-text",{staticClass:"index-title"},[t._v(t._s(i.title))]),t.$check.isEmpty(i.suitable)?t._e():n("v-uni-view",{staticClass:"index-txt"},[n("v-uni-text",[t._v("品牌:"+t._s(i.suitable))])],1)],1)],1)})),1):t._e()],1),n("uni-load-more",{staticClass:"am-umar-tbar",attrs:{status:t.status}}),n("tabBar",{attrs:{current:t.currentTabIndex,column:t.tabNum,options:t.tabList}})],1)},o=[]}}]);