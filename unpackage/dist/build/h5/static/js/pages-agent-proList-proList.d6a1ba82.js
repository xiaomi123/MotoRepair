(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-agent-proList-proList"],{"1d2d":function(t,e,i){"use strict";i.r(e);var s=i("eb44"),a=i("5025");for(var n in a)"default"!==n&&function(t){i.d(e,t,(function(){return a[t]}))}(n);i("ab4d");var o,c=i("f0c5"),r=Object(c["a"])(a["default"],s["b"],s["c"],!1,null,"20539359",null,!1,s["a"],o);e["default"]=r.exports},4381:function(t,e,i){var s=i("9203");"string"===typeof s&&(s=[[t.i,s,""]]),s.locals&&(t.exports=s.locals);var a=i("4f06").default;a("21fa0705",s,!0,{sourceMap:!1,shadowMode:!1})},5025:function(t,e,i){"use strict";i.r(e);var s=i("dd6e"),a=i.n(s);for(var n in s)"default"!==n&&function(t){i.d(e,t,(function(){return s[t]}))}(n);e["default"]=a.a},9203:function(t,e,i){var s=i("24fb");e=s(!1),e.push([t.i,".umar-l[data-v-20539359]{margin-left:%?10?%}.index-search-txt[data-v-20539359]{width:70%}.index-search-btn[data-v-20539359]{width:18%}.example-tag .tag-active[data-v-20539359]{background-color:#2d79f1;border-radius:%?12?%;-webkit-border-radius:%?12?%}.example-level[data-v-20539359]{text-align:left}.pl15[data-v-20539359]{padding-left:15px;border-left:#0033bf 2px solid;margin-bottom:8px;font-size:14px;margin-left:10px}.pl25[data-v-20539359]{padding-left:25px;margin-bottom:8px;font-size:12px;margin-left:10px}.viewleve1[data-v-20539359]{line-height:26px}.example-title[data-v-20539359]{text-align:center;width:100%;margin-bottom:15px;overflow:hidden}.example-level[data-v-20539359]{width:320px;margin-top:10px;overflow:hidden;zoom:1;margin-bottom:10px}",""]),t.exports=e},ab4d:function(t,e,i){"use strict";var s=i("4381"),a=i.n(s);a.a},dd6e:function(t,e,i){"use strict";(function(t){var s=i("4ea4");i("99af"),i("4160"),i("a434"),i("e25e"),i("159b"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a=s(i("4ecc")),n={components:{uniLoadMore:a.default},data:function(){return{proList:[],carCode:[],userInfo:{},p:1,pageSize:10,pageCount:"",status:"more",keywords:"",scode:"",ckLevel:{},isCk:!1,ckLeTxt:"",searchItem:{},isShowYcdmList:!1,noProducts:!1}},onLoad:function(){this.keywords=this.$route.query.keyWord},onReachBottom:function(){var t=this;t.p<t.pageCount?(t.p++,t.status="loading",t.$check.isEmpty(t.keywords)||t.getProduct()):t.status="noMore"},methods:{findSecondLevel:function(e){var i=this;this.carCode.forEach((function(t){t.isBeChecked=!1})),t.log(this.searchItem),this.carCode[e].isBeChecked=!0,this.carCode[e].s_level2.length>0?(this.secondLevel=[],this.secondLevel=this.carCode[e].s_level2,t.log(this.secondLevel),this.carCode.splice(e+1,this.carCode.length-1),this.carCode.splice(0,e)):(this.carCode.splice(e+1,this.carCode.length-1),this.carCode.splice(0,e),this.proList=[],this.isShowProducts=!0,this.$http.httpTokenRequest({url:this.$api.ProductByCode+"?c_id="+this.userInfo.c_id+"&c_type="+this.userInfo.c_type+"&code="+this.carCode[e].s_mb001,method:"GET",data:{}}).then((function(t){uni.hideLoading(),i.proList=t.data,i.isShowProducts=!0}),(function(e){t.log(e)})))},getCar:function(e){var i=this,s=""!=this.keywords?this.keywords:this.$route.query.keyWord;t.log("搜索内容"),t.log(s);var a=this;uni.showLoading(),a.$http.httpTokenRequest({url:a.$api.CarCode+"?code="+s+"&level2=&level3=&isexact="+e,method:"GET",data:{}}).then((function(t){t.data.length>0?i.isShowYcdmList=!0:(i.isShowYcdmList=!1,i.getProduct()),uni.hideLoading(),a.carCode=t.data}),(function(e){t.log(e)}))},toProListShow:function(t,e){uni.navigateTo({url:"../proList/proListShow?scode=&keyWord="+t+"&mb001="+e})},search:function(t){this.secondLevel=[],this.proList=[],this.scode=this.keywords,this.getCar("0")},xgetCodePro:function(e){var i=this;this.proList=[],this.isShowProducts=!0,uni.showLoading(),this.$http.httpTokenRequest({url:this.$api.ProductByCode+"?c_id="+this.userInfo.c_id+"&c_type="+this.userInfo.c_type+"&code="+e,method:"GET",data:{}}).then((function(t){uni.hideLoading(),i.proList=t.data,i.isShowProducts=!0}),(function(e){t.log(e)}))},papeTotal:function(t){var e=this;if(null==t||""==t)return 0;t%e.pageSize==0?e.pageCount=parseInt(t/e.pageSize):e.pageCount=parseInt(t/e.pageSize)+1},toDetail:function(t){uni.navigateTo({url:"../detail/detail?code="+t.erpcode+"&type=index"})},getProduct:function(){var e=""!=this.keywords?this.keywords:this.$route.query.keyWord,i=this;uni.showLoading(),i.$http.httpTokenRequest({url:i.$api.ProductHome+"?c_id="+i.userInfo.c_id+"&c_type="+i.userInfo.c_type+"&c_ma001="+i.userInfo.c_ma001+"&tag="+e+"&pageindex="+i.p+"&pagesize="+i.pageSize,method:"GET",data:{}}).then((function(t){uni.hideLoading(),i.p>1?i.proList=i.proList.concat(t.data.rows):i.proList=t.data.rows,0==i.proList.length?i.noProducts=!0:i.noProducts=!1,i.status="more",i.papeTotal(t.data.total)}),(function(e){t.log(e)}))}},created:function(){var t=this;uni.getStorage({key:"userInfo",success:function(e){t.userInfo=e.data[0],t.getCar("0")}})},watch:{proList:function(){this.isShowProducts=!0,this.proList.length>0?this.noProducts=!1:this.noProducts=!0},carCode:function(){this.carCode.length>0?this.noProducts=!1:this.noProducts=!0}}};e.default=n}).call(this,i("5a52")["default"])},eb44:function(t,e,i){"use strict";i.d(e,"b",(function(){return a})),i.d(e,"c",(function(){return n})),i.d(e,"a",(function(){return s}));var s={uniTag:i("7a3c").default},a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("v-uni-view",{staticClass:"index_container"},[s("v-uni-view",{staticClass:"index-search"},[s("v-uni-view",{staticClass:"index-search-cont"},[s("v-uni-view",{staticClass:"search-input-box",staticStyle:{width:"100%"}},[s("v-uni-input",{staticClass:"index-search-txt",attrs:{"confirm-type":"search",placeholder:"请输入"},on:{confirm:function(e){arguments[0]=e=t.$handleEvent(e),t.search.apply(void 0,arguments)}},model:{value:t.keywords,callback:function(e){t.keywords=e},expression:"keywords"}}),s("v-uni-button",{staticClass:"index-search-btn s-btn",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.search()}}},[t._v("搜索")])],1)],1)],1),s("v-uni-view",{directives:[{name:"show",rawName:"v-show",value:t.isShowYcdmList,expression:"isShowYcdmList"}],staticClass:"example-body",staticStyle:{"padding-top":"20rpx"}},[s("v-uni-view",{staticClass:"example-title",staticStyle:{padding:"20px 20px 0 20px","text-align":"left"}},[t._v("请点击下方查询结果：")]),s("v-uni-view",{staticClass:"example-level"},[s("v-uni-view",{staticStyle:{border:"0",width:"100%",height:"auto",overflow:"hidden",zoom:"1"}},t._l(t.carCode,(function(e,i){return s("v-uni-view",{staticClass:"tag-view example-tag",staticStyle:{width:"45%",float:"left"}},[s("uni-tag",{attrs:{text:e.s_car_code},on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.toProListShow(e.s_car_code,e.s_mb001)}}})],1)})),1)],1)],1),s("v-uni-view",{directives:[{name:"show",rawName:"v-show",value:t.proList.length>0,expression:"proList.length > 0"}],staticClass:"example-title",staticStyle:{padding:"20px 20px 0 20px","text-align":"left"}},[t._v("查询结果：")]),t.proList.length>0?s("v-uni-view",{staticClass:"index-content"},[s("v-uni-view",{staticClass:"modal-title"}),s("v-uni-view",{directives:[{name:"show",rawName:"v-show",value:t.isShowProducts,expression:"isShowProducts"}],staticClass:"index-product"},t._l(t.proList,(function(e,i){return s("v-uni-view",{staticClass:"index-list",on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.toDetail(e)}}},[s("v-uni-image",{staticClass:"index-listImg",attrs:{src:t.$http.imgUrl+e.titlepicurl,mode:"widthFix"}}),s("v-uni-view",{staticClass:"index-uinn"},[s("v-uni-text",{staticClass:"index-title"},[t._v(t._s(e.title))]),s("v-uni-view",{staticClass:"index-txt"},[s("v-uni-text",[t._v("品牌:"+t._s(e.suitable))])],1),s("v-uni-view",{},[t._v("会员价："),s("v-uni-text",{staticClass:"am-text-danger"},[t._v("￥")]),s("v-uni-text",{staticClass:"index-price"},[t._v(t._s(e.currentpriceb))])],1),s("v-uni-view",{},[t._v("非会员价："),s("v-uni-text",{staticClass:"f24 am-text-warning"},[t._v("￥")]),s("v-uni-text",{staticClass:"index-price f28 am-text-warning"},[t._v(t._s(e.currentprice))])],1),s("v-uni-view",{},[t._v("车主价格："),s("v-uni-text",{staticClass:"f24 am-text-primary"},[t._v("￥")]),s("v-uni-text",{staticClass:"index-price f28 am-text-primary"},[t._v(t._s(e.currentpricec))])],1),s("v-uni-view",{staticClass:"index_collect ub ub-ac"},[e.a_id>0?s("v-uni-text",{staticClass:"ub f32 am-blod"},[t._v("赠")]):t._e(),e.f_id?s("v-uni-text",{staticClass:"iconfont ub umar-l",on:{click:function(i){i.stopPropagation(),arguments[0]=i=t.$handleEvent(i),t.collCancle(e)}}},[t._v("")]):s("v-uni-text",{staticClass:"iconfont ub umar-l",on:{click:function(i){i.stopPropagation(),arguments[0]=i=t.$handleEvent(i),t.collect(e)}}},[t._v("")])],1)],1)],1)})),1)],1):t._e(),s("v-uni-view",{directives:[{name:"show",rawName:"v-show",value:t.noProducts,expression:"noProducts"}],staticClass:"example-title",staticStyle:{"text-align":"center"}},[s("v-uni-image",{staticClass:"emptyImg",attrs:{src:i("a137"),mode:"widthFix"}})],1)],1)},n=[]}}]);