(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-repairShop-proList-proList"],{"02dc":function(t,e,i){"use strict";(function(t){var a=i("ee27");i("99af"),i("4160"),i("a434"),i("e25e"),i("159b"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var s=a(i("7665")),o={components:{uniLoadMore:s.default},data:function(){return{proList:[],carCode:[],userInfo:{},p:1,pageSize:10,pageCount:"",status:"more",keywords:"",scode:"",ckLevel:{},isCk:!1,ckLeTxt:"",searchItem:{},isShowYcdmList:!1,noProducts:!1,isShowProducts:!1}},onLoad:function(){this.keywords=this.$route.query.keyWord},onReachBottom:function(){var t=this;t.p<t.pageCount?(t.p++,t.status="loading",t.$check.isEmpty(t.keywords)||t.getProduct()):t.status="noMore"},methods:{findSecondLevel:function(e){var i=this;this.carCode.forEach((function(t){t.isBeChecked=!1})),t.log(this.searchItem),this.carCode[e].isBeChecked=!0,this.carCode[e].s_level2.length>0?(this.secondLevel=[],this.secondLevel=this.carCode[e].s_level2,t.log(this.secondLevel),this.carCode.splice(e+1,this.carCode.length-1),this.carCode.splice(0,e)):(this.carCode.splice(e+1,this.carCode.length-1),this.carCode.splice(0,e),this.proList=[],this.isShowProducts=!0,this.$http.httpTokenRequest({url:this.$api.ProductByCode+"?c_id="+this.userInfo.c_id+"&c_type="+this.userInfo.c_type+"&code="+this.carCode[e].s_mb001,method:"GET",data:{}}).then((function(t){uni.hideLoading(),i.proList=t.data,i.isShowProducts=!0}),(function(e){t.log(e)})))},getCar:function(e){var i=this,a=""!=this.keywords?this.keywords:this.$route.query.keyWord,s=this;uni.showLoading(),s.$http.httpTokenRequest({url:s.$api.CarCode+"?code="+a+"&level2=&level3=&isexact="+e,method:"GET",data:{}}).then((function(t){t.data.length>0?i.isShowYcdmList=!0:(i.isShowYcdmList=!1,i.getProduct()),uni.hideLoading(),s.carCode=t.data}),(function(e){t.log(e)}))},toProListShow:function(t,e){uni.navigateTo({url:"../proList/proListShow?scode=&keyWord="+t+"&mb001="+e})},search:function(t){this.secondLevel=[],this.proList=[],this.scode=this.keywords,this.getCar("0")},xgetCodePro:function(e){var i=this;this.proList=[],this.isShowProducts=!0,uni.showLoading(),this.$http.httpTokenRequest({url:this.$api.ProductByCode+"?c_id="+this.userInfo.c_id+"&c_type="+this.userInfo.c_type+"&code="+e,method:"GET",data:{}}).then((function(t){uni.hideLoading(),i.proList=t.data,i.isShowProducts=!0}),(function(e){t.log(e)}))},papeTotal:function(t){var e=this;if(null==t||""==t)return 0;t%e.pageSize==0?e.pageCount=parseInt(t/e.pageSize):e.pageCount=parseInt(t/e.pageSize)+1},toDetail:function(t){var e;1==t.state?e=0:2==t.state&&(e=1),uni.navigateTo({url:"../detail/detail?code="+t.erpcode+"&type=index&is_footer_bar="+e})},getProduct:function(){var e=""!=this.keywords?this.keywords:this.$route.query.keyWord,i=this;uni.showLoading(),i.$http.httpTokenRequest({url:i.$api.ProductHome+"?c_id="+i.userInfo.c_id+"&c_type="+i.userInfo.c_type+"&c_ma001="+i.userInfo.c_ma001+"&tag="+e+"&pageindex="+i.p+"&pagesize="+i.pageSize,method:"GET",data:{}}).then((function(e){uni.hideLoading(),i.p>1?i.proList=i.proList.concat(e.data.rows):i.proList=e.data.rows,t.log(e.data.rows),0==i.proList.length?i.noProducts=!0:i.noProducts=!1,i.status="more",i.papeTotal(e.data.total)}),(function(e){t.log(e)}))}},created:function(){var t=this;this.showAllNo=!1,uni.getStorage({key:"userInfo",success:function(e){t.userInfo=e.data[0],t.getCar("0")}})},watch:{}};e.default=o}).call(this,i("5a52")["default"])},"035e":function(t,e,i){"use strict";var a=i("4e72"),s=i.n(a);s.a},"18f0":function(t,e,i){"use strict";var a={uniTag:i("3d9f").default},s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-uni-view",{staticClass:"index_container"},[a("v-uni-view",{staticClass:"index-search"},[a("v-uni-view",{staticClass:"index-search-cont"},[a("v-uni-view",{staticClass:"search-input-box",staticStyle:{width:"100%"}},[a("v-uni-input",{staticClass:"index-search-txt",attrs:{"confirm-type":"search",placeholder:"请输入"},on:{confirm:function(e){arguments[0]=e=t.$handleEvent(e),t.search.apply(void 0,arguments)}},model:{value:t.keywords,callback:function(e){t.keywords=e},expression:"keywords"}}),a("v-uni-button",{staticClass:"index-search-btn s-btn",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.search()}}},[t._v("搜索")])],1)],1)],1),a("v-uni-view",{directives:[{name:"show",rawName:"v-show",value:t.isShowYcdmList,expression:"isShowYcdmList"}],staticClass:"example-body",staticStyle:{"padding-top":"20rpx"}},[a("v-uni-view",{staticClass:"example-title",staticStyle:{padding:"20px 20px 0 20px","text-align":"left"}},[t._v("请点击下方查询结果：")]),a("v-uni-view",{staticClass:"example-level"},[a("v-uni-view",{staticStyle:{border:"0",width:"100%",height:"auto",overflow:"hidden",zoom:"1"}},t._l(t.carCode,(function(e,i){return a("v-uni-view",{staticClass:"tag-view example-tag",staticStyle:{width:"45%",float:"left"}},[a("uni-tag",{attrs:{text:e.s_car_code},on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.toProListShow(e.s_car_code,e.s_mb001)}}})],1)})),1)],1)],1),a("v-uni-view",{directives:[{name:"show",rawName:"v-show",value:t.proList.length>0,expression:"proList.length > 0"}],staticClass:"example-title",staticStyle:{padding:"20px 20px 0 20px","text-align":"left"}},[t._v("查询结果：")]),t.proList.length>0?a("v-uni-view",{staticClass:"index-content"},[a("v-uni-view",{staticClass:"modal-title"}),a("v-uni-view",{staticClass:"index-product"},t._l(t.proList,(function(e,i){return a("v-uni-view",{staticClass:"index-list",on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.toDetail(e)}}},[a("v-uni-image",{staticClass:"index-listImg",attrs:{src:t.$http.imgUrl+e.titlepicurl,mode:"widthFix"}}),a("v-uni-view",{staticClass:"index-uinn"},[a("v-uni-text",{staticClass:"index-title"},[t._v(t._s(e.title))]),a("v-uni-view",[t._v("售价:"),a("v-uni-text",{staticClass:"am-text-danger"},[t._v("￥")]),a("v-uni-text",{staticClass:"index-price"},[t._v(t._s(e.currentprice))])],1),a("v-uni-view",{staticClass:"index_collect ub ub-ac"},[e.a_id>0?a("v-uni-text",{staticClass:"ub f32 am-blod"},[t._v("赠")]):t._e(),e.f_id?a("v-uni-text",{staticClass:"iconfont ub umar-l",on:{click:function(i){i.stopPropagation(),arguments[0]=i=t.$handleEvent(i),t.collCancle(e)}}},[t._v("")]):a("v-uni-text",{staticClass:"iconfont ub umar-l",on:{click:function(i){i.stopPropagation(),arguments[0]=i=t.$handleEvent(i),t.collect(e)}}},[t._v("")])],1)],1)],1)})),1)],1):t._e(),a("v-uni-view",{directives:[{name:"show",rawName:"v-show",value:t.noProducts,expression:"noProducts"}],staticClass:"example-title",staticStyle:{"text-align":"center"}},[a("v-uni-image",{staticClass:"emptyImg",attrs:{src:i("4795"),mode:"widthFix"}})],1)],1)},o=[];i.d(e,"b",(function(){return s})),i.d(e,"c",(function(){return o})),i.d(e,"a",(function(){return a}))},"3a91":function(t,e,i){"use strict";i.r(e);var a=i("02dc"),s=i.n(a);for(var o in a)"default"!==o&&function(t){i.d(e,t,(function(){return a[t]}))}(o);e["default"]=s.a},"4b0f":function(t,e,i){"use strict";i.r(e);var a=i("18f0"),s=i("3a91");for(var o in s)"default"!==o&&function(t){i.d(e,t,(function(){return s[t]}))}(o);i("035e");var n,c=i("f0c5"),r=Object(c["a"])(s["default"],a["b"],a["c"],!1,null,"24850da5",null,!1,a["a"],n);e["default"]=r.exports},"4e72":function(t,e,i){var a=i("bef0");"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var s=i("4f06").default;s("6db4ec80",a,!0,{sourceMap:!1,shadowMode:!1})},bef0:function(t,e,i){var a=i("24fb");e=a(!1),e.push([t.i,".umar-l[data-v-24850da5]{margin-left:%?10?%}.index-search-txt[data-v-24850da5]{width:70%}.index-search-btn[data-v-24850da5]{width:18%}.example-tag .tag-active[data-v-24850da5]{background-color:#2d79f1;border-radius:%?12?%;-webkit-border-radius:%?12?%}.example-level[data-v-24850da5]{text-align:left}.pl15[data-v-24850da5]{padding-left:15px;border-left:#0033bf 2px solid;margin-bottom:8px;font-size:14px;margin-left:10px}.pl25[data-v-24850da5]{padding-left:25px;margin-bottom:8px;font-size:12px;margin-left:10px}.viewleve1[data-v-24850da5]{line-height:26px}.example-title[data-v-24850da5]{text-align:center;width:100%;margin-bottom:15px;overflow:hidden}.example-level[data-v-24850da5]{width:320px;margin-top:10px;overflow:hidden;zoom:1;margin-bottom:10px}",""]),t.exports=e}}]);