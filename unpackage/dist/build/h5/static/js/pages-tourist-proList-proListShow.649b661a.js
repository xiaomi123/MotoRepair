(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-tourist-proList-proListShow"],{"4f5f":function(e,t,i){"use strict";(function(e){var a=i("ee27");i("99af"),i("e25e"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=a(i("7665")),n={components:{uniLoadMore:s.default},data:function(){return{proList:[],carCode:[],userInfo:{},p:1,pageSize:10,pageCount:"",status:"more",keywords:"",scode:"",ckLevel:{},isCk:!1,ckLeTxt:"",searchItem:{},secondLevel:[],isShowProducts:!1,ycdm:"",alreadyHavaImg:["2H0_1280087","2H0_1280090","2H0_1280090","CG12_1280111","CG12_1280111","DK15-01_1280139","DK15-01_1280139","DK15-02_1280140","DK15-02_1280141","DK15-06_1280143","DK15-06_1280144","DK15-07_1280145","DK15-07_1280146","DK15-10_1280145","DK15-10_1280146","DK15-10_1280147","DK15-60_1280148","DK15-61_1280149","JL4G18_1280117","JL4G18_1280118","JLγ-4G15_1280119","JLγ-4G15_1280120","JLγ-4G18_1280121","JLγ-4G18_1280122","L2B_1280065","L2B_1280085","LDE_1280081","LDE_1280092","LMU_1280062","LMU_1280063","MR479Q_1180122","MR479QA_1280114","MR479QA_1280115","SFG15-01_1280148","SFG15-01_1280149","SFG15-02_1280148","SFG15-02_1280149","SFG18_1280154","SFG18_1280155"],showYcdm:!1,showAllNo:!1}},onReachBottom:function(){this.p<this.pageCount?(this.p++,this.status="loading",this_.$check.isEmpty(this_.keywords)||this.getProduct()):this.status="noMore"},methods:{getCar:function(){var t=this,i=this;uni.showLoading(),i.$http.httpTokenRequest({url:i.$api.CarCode+"?code="+this.ycdm+"&level2=&level3=",method:"GET",data:{}}).then((function(a){e.log("原车代码"),e.log(a),uni.hideLoading(),e.log("二级"),e.log(a.data[0].s_level2),t.secondLevel=a.data[0].s_level2,0==i.secondLevel.length&&i.getProduct()}),(function(t){e.log(t)}))},toDetail:function(e){uni.navigateTo({url:"../detail/detail?code="+e.erpcode+"&type=index"})},collect:function(t){var i=this;i.$http.httpTokenRequest({url:i.$api.AddFavorite,method:"POST",data:{c_id:i.userInfo.c_id,c_ma001:i.userInfo.c_ma001,c_ma002:i.userInfo.c_ma002,i_mb001:t.erpcode}}).then((function(e){e.data.State&&(t.f_id=e.data.centent,uni.showToast({icon:"none",title:"收藏成功",duration:1500}))}),(function(t){e.log(t)}))},collCancle:function(t){var i=this;i.$http.httpTokenRequest({url:i.$api.DelFavorite,method:"POST",data:[{f_id:t.f_id}]}).then((function(e){e.data.State&&(t.f_id=""),uni.showToast({icon:"none",title:"取消收藏",duration:1500})}),(function(t){e.log(t)}))},search:function(){uni.navigateTo({url:"../proList/proList?scode=&keyWord="+this.keywords})},papeTotal:function(e){var t=this;if(null==e||""==e)return 0;e%t.pageSize==0?t.pageCount=parseInt(e/t.pageSize):t.pageCount=parseInt(e/t.pageSize)+1},xgetCodePro:function(t,i,a){for(var s=this,n=0;n<this.secondLevel.length;n++)if(this.secondLevel[n].isChecd=!1,this.secondLevel[i].isChecd=!0,this.secondLevel[n].s_level3.length>0)for(var o=0;o<this.secondLevel[n].s_level3.length;o++)n!=i&&(this.secondLevel[n].s_level3[o].isshow=!1);if(1==a)for(var l=0;l<this.secondLevel.length;l++)if(this.secondLevel[l].s_level3.length>0)if(l==i)for(var c=0;c<this.secondLevel[l].s_level3.length;c++)this.secondLevel[l].s_level3[c].isshow?this.secondLevel[l].s_level3[c].isshow=!1:this.secondLevel[l].s_level3[c].isshow=!0;else for(var d=0;d<this.secondLevel[l].s_level3.length;d++)this.secondLevel[l].s_level3[d].isshow=!1;0==a?(this.proList=[],this.isShowProducts=!0,uni.showLoading(),this.$http.httpTokenRequest({url:this.$api.ProductByCode+"?c_id="+this.userInfo.c_id+"&c_type="+this.userInfo.c_type+"&code="+t,method:"GET",data:{}}).then((function(e){uni.hideLoading(),s.proList=e.data,s.isShowProducts=!0,e.data.length>0?s.showAllNo=!1:s.showAllNo=!0}),(function(t){e.log(t)}))):this.proList=[]},getProduct:function(){var t=this;uni.showLoading(),t.$http.httpTokenRequest({url:t.$api.ProductHome+"?c_id="+t.userInfo.c_id+"&c_type="+t.userInfo.c_type+"&c_ma001="+t.userInfo.c_ma001+"&tag="+this.ycdm+"&pageindex="+t.p+"&pagesize="+t.pageSize,method:"GET",data:{}}).then((function(e){uni.hideLoading(),t.p>1?t.proList=t.proList.concat(e.data.rows):t.proList=e.data.rows,t.status="more",t.papeTotal(e.data.total)}),(function(t){e.log(t)}))}},watch:{secondLevel:function(){e.log(this.secondLevel.length),this.secondLevel.length>0?this.showYcdm=!0:(this.showYcdm=!1,this.showAllNo=!0)},proList:function(){this.showResult=!0,this.proList.length>0&&(this.isShowProducts=!0)}},created:function(){var e=this;e.ycdm=e.$route.query.keyWord,uni.getStorage({key:"userInfo",success:function(t){e.userInfo=t.data[0],e.getCar()}})}};t.default=n}).call(this,i("5a52")["default"])},"695a":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAA8CAYAAAA6/NlyAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyFpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTQyIDc5LjE2MDkyNCwgMjAxNy8wNy8xMy0wMTowNjozOSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIChXaW5kb3dzKSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDozNTlBMkE4Qjk5QUExMUVBOEUyOUY3QzQ4RDM2MTBEQyIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDozNTlBMkE4Qzk5QUExMUVBOEUyOUY3QzQ4RDM2MTBEQyI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOjM1OUEyQTg5OTlBQTExRUE4RTI5RjdDNDhEMzYxMERDIiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOjM1OUEyQThBOTlBQTExRUE4RTI5RjdDNDhEMzYxMERDIi8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+RlntaAAABFFJREFUeNrsm3uIDXEUx39z7bJYbcgrhLKy1jtvSyKvhCQlQtJmpSz/eCt/SEkJSQh5KymR0JLXtrseeaUQ1nO927Kr9d47vsecaX9u18zcuXNn7uzOqU/duffOnfnO7/zO75wzcxVVVUVdspCoYxYIDgQHggPBgeBkNiUUsqZZceZ4Y8EA0BqUg5vgHPjlluAUFy/uRjAXNJfeqwSn+bO7tWWEO4FToLvJ9+aDXX4XPAqcAfV5+zLYDj6CbLAQdJO+PxwU+lVwPtgc4dJLo3zvOs9rwRdngh8Fk2vmStuzwCEDL7jAr9+DNn4KWk1AARjE2+/ARHDLYJ8q6fU3P63D5JaPJLFFPD9vmey3Xnp93C9BawY4LG3vAAtMfrIhOMFrM9lL0BV8T/YRXhUhdrEFsRShH0pib4C+iRbrxBymQDSTX//mCFtgss9UcEy62AfB7GTPpSlbKpHEvgE9LYhdwfOUjlvBF8g1sXZHeCg4KaWIl8Bk8MVkPxrVadL2D9ARrObEhHCiwUbhJsweRwNxETyJDFqZBqNdDZ5y0MqNSP92gjyTExjGCUW6h0XSET73rySYRmuSWeKvaGvqJum9PBZsZC3BHo6+bx0aQatGCUwXafsx6E2CVat+wkZzbwq7spmluln6RbF5YLe0vYUEf7HibiyYSrhx4IOPav5tXKSQlYVicDOqW/v4TKzg9V63dBrhSs6BjewV6KAI31kLcJVjCNkVq8sSzdv/ukKcFyKVY0KGQ0FN5bS1B6e88nRdmRLDSRkeIQ7hFO23JnikP4M5oNjR8lC1J/oKOM+JjGoyatlRcoTbUTJHhT8r49Vkv9D6Z8LqHKayLyuWVCdB1puj7lDe/slrfYUX9bAbRstijtBavILT0UVeNQDcNHlpzKrtgseLfzud592sh+OZvxmipltptqsetIaAZdL7r8EBTwVbtPo8D+vF8Rv3ebSr/SA4zCXjQGlahaVppqe8TaNMu3u8bu/1osVj136blKS6ezcDY7gG1zOmKrtikzloqQy5/VGu0HQPGMIXwXvBCUw4itgrdMv0XHCCK6l8UXNDjuyZ3R9K8UhsR05nQyZu3UBot2rWSO8/AGc9E2xDLLVyR9s8XCkYGc/5hjxw47CNfWgpWs5zN66Oi9URrnZwvlLEbc2ZkxpRWabx2kvr8zrQWPKKDY5MP4vlITWyu7jc4qG7kIXSoLQVWqtXuOHSnRWtJ+3mun2NC3ghCRZOCFYsTtcl4LnQWp5NXBBMTXT5aYByp1w61kY82VdQDO5wN6SUU77v/Fml/Y7P3xSyF3c22kmJR45Tgos4XTOyfezSNLrTubSzmh7GmlJGVlAvQD8nR5jcerAwvplWotScfCMwAvTnQlx3PUr0Ux10acqm6NbqWuHgsx/xPvJAI00PnrViwe2F1n1M488bxLiSKZwzfxLaM12XnA4MSvCfh0BwIDgQHAgOBAeCPbM/AgwAjr3V/rrf0TIAAAAASUVORK5CYII="},"82d4":function(e,t,i){"use strict";i.r(t);var a=i("4f5f"),s=i.n(a);for(var n in a)"default"!==n&&function(e){i.d(t,e,(function(){return a[e]}))}(n);t["default"]=s.a},"8c75":function(e,t,i){var a=i("24fb"),s=i("1de5"),n=i("695a");t=a(!1);var o=s(n);t.push([e.i,".umar-l[data-v-246dba2e]{margin-left:%?10?%}.index-search-txt[data-v-246dba2e]{width:70%}.index-search-btn[data-v-246dba2e]{width:18%}.example-tag .tag-active[data-v-246dba2e]{background-color:#2d79f1;border-radius:%?12?%;-webkit-border-radius:%?12?%}.example-level[data-v-246dba2e]{text-align:left}.pl15[data-v-246dba2e]{margin-bottom:8px;font-size:16px;margin-left:10px}.pl25[data-v-246dba2e]{margin-bottom:8px;font-size:12px;margin-left:10px}.viewleve1[data-v-246dba2e]{line-height:30px}.example-title[data-v-246dba2e]{text-align:center;width:100%;margin-bottom:15px;overflow:hidden}.example-level[data-v-246dba2e]{width:320px;margin-top:10px;overflow:hidden;zoom:1}.handle[data-v-246dba2e]{width:26px;height:26px;float:left;background-image:url("+o+");background-position:0;background-repeat:no-repeat;background-size:cover;margin-right:10px}.no-handle[data-v-246dba2e]{width:35px;height:26px;float:left}.smallPic[data-v-246dba2e]{width:100px;height:80px;border-radius:10px;margin-left:30px;overflow:hidden;zoom:1}.smallPic uni-image[data-v-246dba2e]{width:100%;height:100%}",""]),e.exports=t},"93d0":function(e,t,i){"use strict";var a={uniTag:i("3d9f").default},s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-uni-view",{staticClass:"index_container"},[a("v-uni-view",{staticClass:"index-search"},[a("v-uni-view",{staticClass:"index-search-cont"},[a("v-uni-view",{staticClass:"search-input-box",staticStyle:{width:"100%"}},[a("v-uni-input",{staticClass:"index-search-txt",attrs:{"confirm-type":"search",placeholder:"请输入"},on:{confirm:function(t){arguments[0]=t=e.$handleEvent(t),e.search.apply(void 0,arguments)}},model:{value:e.keywords,callback:function(t){e.keywords=t},expression:"keywords"}}),a("v-uni-button",{staticClass:"index-search-btn s-btn",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.search()}}},[e._v("搜索")])],1)],1)],1),a("v-uni-view",{staticClass:"example-title"},[e._v("原车代码:"),a("uni-tag",{staticClass:"tag-active",staticStyle:{display:"inline-block","background-color":"#2d79f1","border-radius":"12rpx","-webkit-border-radius":"12rpx","margin-left":"8px"},attrs:{text:e.ycdm}})],1),a("v-uni-view",{directives:[{name:"show",rawName:"v-show",value:e.showYcdm,expression:"showYcdm"}],staticClass:"example-body",staticStyle:{"padding-top":"0px"}},[a("v-uni-view",{staticClass:"example-level"},[a("v-uni-view",{staticClass:"example-title",staticStyle:{"text-align":"left","padding-left":"10px"}},[e._v("请点击下方产品规格")]),a("v-uni-view",{staticStyle:{"padding-top":"10px"}},e._l(e.secondLevel,(function(t,i){return a("v-uni-view",{key:i},[t.s_level3.length>0?a("v-uni-view",{staticClass:"pl15",class:{active:t.isChecd},on:{click:function(a){arguments[0]=a=e.$handleEvent(a),e.xgetCodePro(t.s_mb001,i,!0)}}},[a("v-uni-view",{staticClass:"handle"},[e._v("点击查看")]),e._v(e._s(i+1)+": "+e._s(t.s_level2)),a("v-uni-view",{staticStyle:{"font-weight":"bold","padding-left":"70px"}},[e._v(e._s(t.spec))]),a("v-uni-view",{directives:[{name:"show",rawName:"v-show",value:e.alreadyHavaImg.indexOf(e.ycdm+"_"+t.s_mb001)>=0&&t.isChecd,expression:"alreadyHavaImg.indexOf(ycdm + '_' + items.s_mb001) >= 0 && items.isChecd"}],staticClass:"smallPic",staticStyle:{margin:"10px 0 0 70px"}},[a("v-uni-image",{attrs:{src:"../../../static/ycdm/"+e.ycdm+"_"+t.s_mb001+".png"}})],1)],1):a("v-uni-view",{staticClass:"viewleve1 pl15",class:{active:t.isChecd},on:{click:function(a){arguments[0]=a=e.$handleEvent(a),e.xgetCodePro(t.s_mb001,i,!1)}}},[a("v-uni-view",{staticClass:"handle"},[e._v("点击查看")]),e._v(e._s(i+1)+": "+e._s(t.s_level2)),a("v-uni-view",{staticStyle:{"font-weight":"bold","padding-left":"70px"}},[e._v(e._s(t.spec))]),a("v-uni-view",{directives:[{name:"show",rawName:"v-show",value:e.alreadyHavaImg.indexOf(e.ycdm+"_"+t.s_mb001)>=0&&t.isChecd,expression:"alreadyHavaImg.indexOf(ycdm + '_' + items.s_mb001) >= 0 && items.isChecd"}],staticClass:"smallPic",staticStyle:{margin:"10px 0 0 70px"}},[a("v-uni-image",{attrs:{src:"../../../static/ycdm/"+e.ycdm+"_"+t.s_mb001+".png"}})],1)],1),e._l(t.s_level3,(function(t,s){return a("v-uni-view",{directives:[{name:"show",rawName:"v-show",value:t.isshow,expression:"e.isshow"}],staticClass:"viewleve1 pl25",on:{click:function(a){arguments[0]=a=e.$handleEvent(a),e.xgetCodePro(t.s_mb001,i,!1)}}},[a("v-uni-view",[e._v(e._s(i+1)+"-"+e._s(s+1)+": "+e._s(t.s_level3))]),a("v-uni-view",{staticStyle:{"font-weight":"bold"}},[e._v(e._s(t.spec))]),a("v-uni-view",{directives:[{name:"show",rawName:"v-show",value:e.alreadyHavaImg.indexOf(e.ycdm+"_"+t.s_mb001)>=0,expression:"alreadyHavaImg.indexOf(ycdm + '_' + e.s_mb001) >= 0"}],staticClass:"smallPic"},[a("v-uni-image",{attrs:{src:"../../../static/ycdm/"+e.ycdm+"_"+t.s_mb001+".png"}})],1)],1)}))],2)})),1)],1)],1),a("v-uni-view",{directives:[{name:"show",rawName:"v-show",value:e.proList.length>0,expression:"proList.length>0"}],staticClass:"index-content"},[a("v-uni-view",{staticClass:"example-title",staticStyle:{padding:"20px 20px 0 20px","text-align":"left"}},[e._v("查询结果：")]),a("v-uni-view",{staticClass:"index-product"},e._l(e.proList,(function(t,i){return a("v-uni-view",{staticClass:"index-list",on:{click:function(i){arguments[0]=i=e.$handleEvent(i),e.toDetail(t)}}},[a("v-uni-image",{staticClass:"index-listImg",attrs:{src:e.$http.imgUrl+t.titlepicurl,mode:"widthFix"}}),a("v-uni-view",{staticClass:"index-uinn"},[a("v-uni-text",{staticClass:"index-title"},[e._v(e._s(t.title))]),a("v-uni-view",{staticClass:"index_collect ub ub-ac"},[t.a_id>0?a("v-uni-text",{staticClass:"ub f32 am-blod"},[e._v("赠")]):e._e(),t.f_id?a("v-uni-text",{staticClass:"iconfont ub umar-l",on:{click:function(i){i.stopPropagation(),arguments[0]=i=e.$handleEvent(i),e.collCancle(t)}}},[e._v("")]):a("v-uni-text",{staticClass:"iconfont ub umar-l",on:{click:function(i){i.stopPropagation(),arguments[0]=i=e.$handleEvent(i),e.collect(t)}}},[e._v("")])],1)],1)],1)})),1)],1),a("v-uni-view",{directives:[{name:"show",rawName:"v-show",value:e.showAllNo,expression:"showAllNo"}],staticClass:"example-title"},[a("v-uni-image",{staticClass:"emptyImg",attrs:{src:i("4795"),mode:"widthFix"}})],1)],1)},n=[];i.d(t,"b",(function(){return s})),i.d(t,"c",(function(){return n})),i.d(t,"a",(function(){return a}))},"9d17":function(e,t,i){"use strict";i.r(t);var a=i("93d0"),s=i("82d4");for(var n in s)"default"!==n&&function(e){i.d(t,e,(function(){return s[e]}))}(n);i("a9e9");var o,l=i("f0c5"),c=Object(l["a"])(s["default"],a["b"],a["c"],!1,null,"246dba2e",null,!1,a["a"],o);t["default"]=c.exports},a957:function(e,t,i){var a=i("8c75");"string"===typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);var s=i("4f06").default;s("6037f498",a,!0,{sourceMap:!1,shadowMode:!1})},a9e9:function(e,t,i){"use strict";var a=i("a957"),s=i.n(a);s.a}}]);